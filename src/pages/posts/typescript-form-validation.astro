---
// TypeScriptè¡¨å•éªŒè¯æ–‡ç« é¡µé¢
---

<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>åœ¨ä½ çš„é¡¹ç›®ä¸­ï¼Œä½ æ˜¯å¦‚ä½•ä½¿ç”¨TypeScriptè¿›è¡Œè¡¨å•éªŒè¯çš„ï¼Ÿ</title>
    
    <style>
      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        max-width: 900px;
        margin: 0 auto;
        padding: 20px;
        line-height: 1.6;
        background: #f8f9fa;
        color: #333;
      }
      .container {
        background: white;
        padding: 40px;
        border-radius: 10px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }
      h1 {
        color: #2c3e50;
        text-align: center;
        font-size: 2.5em;
        margin-bottom: 30px;
      }
      h2 {
        color: #34495e;
        border-bottom: 2px solid #3498db;
        padding-bottom: 10px;
        margin-top: 30px;
      }
      h3 {
        color: #2c3e50;
        margin-top: 25px;
      }
      h4 {
        color: #34495e;
        margin-top: 20px;
      }
      .back-link {
        display: inline-block;
        background: #3498db;
        color: white;
        padding: 12px 24px;
        text-decoration: none;
        border-radius: 6px;
        margin-top: 30px;
        transition: background 0.3s ease;
      }
      .back-link:hover {
        background: #2980b9;
      }
      .meta-info {
        text-align: center;
        color: #7f8c8d;
        margin-bottom: 30px;
        padding: 15px;
        background: #ecf0f1;
        border-radius: 8px;
      }
      .highlight-box {
        background: #fff3cd;
        padding: 20px;
        border-radius: 8px;
        border-left: 3px solid #f39c12;
        margin: 20px 0;
      }
      .code-block {
        background: #2d3748;
        color: #e2e8f0;
        border-radius: 8px;
        padding: 20px;
        margin: 15px 0;
        font-family: 'Courier New', monospace;
        font-size: 0.9em;
        overflow-x: auto;
        border-left: 4px solid #4299e1;
      }
      .code-comment {
        color: #68d391;
      }
      .feature-list {
        background: #e8f5e8;
        padding: 20px;
        border-radius: 8px;
        border-left: 4px solid #27ae60;
        margin: 20px 0;
      }
      .section-box {
        background: #f0f8ff;
        padding: 20px;
        border-radius: 8px;
        border-left: 4px solid #2196f3;
        margin: 20px 0;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>ğŸš€ åœ¨ä½ çš„é¡¹ç›®ä¸­ï¼Œä½ æ˜¯å¦‚ä½•ä½¿ç”¨TypeScriptè¿›è¡Œè¡¨å•éªŒè¯çš„ï¼Ÿ</h1>

      <div class="meta-info">
        <p>ğŸ“… å‘å¸ƒäº 2026å¹´1æœˆ | ğŸ‘¤ ä½œè€…ï¼šåšä¸» | ğŸ·ï¸ æ ‡ç­¾ï¼šTypeScript, è¡¨å•éªŒè¯, Zod, ProForm, Ant Design, Webå¼€å‘, å‰ç«¯, é¢è¯•</p>
      </div>

      <p>æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢æ–‡ç« ï¼æ‰€æœ‰æ–‡ç« éƒ½æ˜¯æ»¡æ»¡çš„å‰ç«¯å¹²è´§ï¼Œæ–‡ç« ç®€æ˜æ‰¼è¦ã€‚</p>

      <h2>âœ… æ ¸å¿ƒæ–¹æ¡ˆï¼šZod + ç±»å‹æ¨å¯¼ + è¡¨å•åº“é›†æˆ</h2>

      <h3>1. ç”¨ Zod å®šä¹‰è¡¨å• Schemaï¼ˆåŒæ—¶è·å¾—ç±»å‹å’Œæ ¡éªŒé€»è¾‘ï¼‰</h3>

      <div class="code-block">
<span class="code-comment">// schemas/member.ts</span><br>
import {`{`} z {`}`} from 'zod';<br><br>

export const MemberSchema = z.object({`{`}<br>
&nbsp;&nbsp;key: z.string().min(1, 'å”¯ä¸€æ ‡è¯†ä¸èƒ½ä¸ºç©º'),<br>
&nbsp;&nbsp;workId: z.string().regex(/^\d+$/, 'å·¥å·å¿…é¡»ä¸ºæ•°å­—'),<br>
&nbsp;&nbsp;name: z.string().min(2, 'å§“åè‡³å°‘ä¸¤ä¸ªå­—ç¬¦'),<br>
&nbsp;&nbsp;department: z.string().min(1, 'éƒ¨é—¨ä¸èƒ½ä¸ºç©º'),<br>
{`}`});<br><br>

export const FormSchema = z.object({`{`}<br>
&nbsp;&nbsp;members: z.array(MemberSchema).min(1, 'è‡³å°‘æ·»åŠ ä¸€åæˆå‘˜'),<br>
{`}`});<br><br>

<span class="code-comment">// è‡ªåŠ¨æ¨å¯¼å‡º TypeScript ç±»å‹</span><br>
export type FormValues = z.infer&lt;typeof FormSchema&gt;;
      </div>

      <div class="feature-list">
        <h4>âœ… ä¼˜åŠ¿</h4>
        <p>é¿å…æ‰‹åŠ¨ç»´æŠ¤ interfaceï¼Œç±»å‹ä¸æ ¡éªŒè§„åˆ™å§‹ç»ˆä¿æŒä¸€è‡´ã€‚</p>
      </div>

      <h3>2. åœ¨ ProForm ä¸­ä½¿ç”¨</h3>

      <div class="section-box">
        <p>ProForm æœ¬èº«åŸºäº Ant Design Formï¼Œæ”¯æŒè‡ªå®šä¹‰æ ¡éªŒè§„åˆ™ã€‚æˆ‘ä»¬å°† Zod è§„åˆ™åŒ…è£…æˆ AntD çš„ Ruleï¼š</p>
      </div>

      <h4>å·¥å…·å‡½æ•°ï¼šå°† Zod è½¬æ¢ä¸º Ant Design è§„åˆ™</h4>

      <div class="code-block">
<span class="code-comment">// utils/zodToAntd.ts</span><br>
import {`{`} Rule {`}`} from 'antd/es/form';<br>
import {`{`} ZodTypeAny {`}`} from 'zod';<br><br>

export const zodRule = (schema: ZodTypeAny): Rule => ({`{`}<br>
&nbsp;&nbsp;validator(_, value) {`{`}<br>
&nbsp;&nbsp;&nbsp;&nbsp;if (value === undefined || value === null) return Promise.resolve();<br>
&nbsp;&nbsp;&nbsp;&nbsp;try {`{`}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;schema.parse(value);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return Promise.resolve();<br>
&nbsp;&nbsp;&nbsp;&nbsp;{`}`} catch (err: any) {`{`}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return Promise.reject(new Error(err.errors[0].message));<br>
&nbsp;&nbsp;&nbsp;&nbsp;{`}`}<br>
&nbsp;&nbsp;{`}`},<br>
{`}`});
      </div>

      <h4>åœ¨è¡¨å•é¡¹ä¸­ä½¿ç”¨</h4>

      <div class="code-block">
<span class="code-comment">// components/MemberForm.tsx</span><br>
import {`{`} ProFormList, ProFormText {`}`} from '@ant-design/pro-form';<br>
import {`{`} MemberSchema {`}`} from '@/schemas/member';<br>
import {`{`} zodRule {`}`} from '@/utils/zodToAntd';<br><br>

&lt;ProFormList name="members"&gt;<br>
&nbsp;&nbsp;&lt;ProFormText<br>
&nbsp;&nbsp;&nbsp;&nbsp;name="workId"<br>
&nbsp;&nbsp;&nbsp;&nbsp;label="å·¥å·"<br>
&nbsp;&nbsp;&nbsp;&nbsp;rules={`{`}[zodRule(MemberSchema.shape.workId)]{`}`}<br>
&nbsp;&nbsp;/&gt;<br>
&nbsp;&nbsp;&lt;ProFormText<br>
&nbsp;&nbsp;&nbsp;&nbsp;name="name"<br>
&nbsp;&nbsp;&nbsp;&nbsp;label="å§“å"<br>
&nbsp;&nbsp;&nbsp;&nbsp;rules={`{`}[zodRule(MemberSchema.shape.name)]{`}`}<br>
&nbsp;&nbsp;/&gt;<br>
&lt;/ProFormList&gt;
      </div>

      <h3>3. æäº¤æ—¶äºŒæ¬¡æ ¡éªŒï¼ˆé˜²å¾¡æ€§ç¼–ç¨‹ï¼‰</h3>

      <div class="highlight-box">
        <p><strong>å³ä½¿å‰ç«¯æœ‰æ ¡éªŒï¼Œæäº¤æ—¶ä»ç”¨ Zod åšæœ€ç»ˆæ£€æŸ¥ï¼ˆé˜²æ­¢ç»•è¿‡ UI ç›´æ¥è°ƒç”¨é€»è¾‘ï¼‰</strong></p>
      </div>

      <div class="code-block">
const onFinish = async (values: unknown) => {`{`}<br>
&nbsp;&nbsp;const result = FormSchema.safeParse(values);<br>
&nbsp;&nbsp;if (!result.success) {`{`}<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="code-comment">// èšç„¦ç¬¬ä¸€ä¸ªé”™è¯¯å­—æ®µæˆ–å¼¹å‡ºæç¤º</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;const firstError = result.error.issues[0];<br>
&nbsp;&nbsp;&nbsp;&nbsp;message.error(firstError.message);<br>
&nbsp;&nbsp;&nbsp;&nbsp;return;<br>
&nbsp;&nbsp;{`}`}<br><br>

&nbsp;&nbsp;<span class="code-comment">// âœ… æ­¤æ—¶ result.data æ˜¯ç±»å‹å®‰å…¨çš„ FormValues</span><br>
&nbsp;&nbsp;await api.submitMembers(result.data.members);<br>
{`}`};
      </div>

      <h2>å®Œæ•´ç¤ºä¾‹ï¼šæˆå‘˜ç®¡ç†è¡¨å•</h2>

      <div class="section-box">
        <h4>1. Schema å®šä¹‰ï¼ˆschemas/member.tsï¼‰</h4>
        <div class="code-block">
import {`{`} z {`}`} from 'zod';<br><br>

export const MemberSchema = z.object({`{`}<br>
&nbsp;&nbsp;key: z.string().min(1, 'å”¯ä¸€æ ‡è¯†ä¸èƒ½ä¸ºç©º'),<br>
&nbsp;&nbsp;workId: z.string().regex(/^\d+$/, 'å·¥å·å¿…é¡»ä¸ºæ•°å­—'),<br>
&nbsp;&nbsp;name: z.string().min(2, 'å§“åè‡³å°‘ä¸¤ä¸ªå­—ç¬¦'),<br>
&nbsp;&nbsp;department: z.string().min(1, 'éƒ¨é—¨ä¸èƒ½ä¸ºç©º'),<br>
{`}`});<br><br>

export const FormSchema = z.object({`{`}<br>
&nbsp;&nbsp;members: z.array(MemberSchema).min(1, 'è‡³å°‘æ·»åŠ ä¸€åæˆå‘˜'),<br>
{`}`});<br><br>

export type Member = z.infer&lt;typeof MemberSchema&gt;;<br>
export type FormValues = z.infer&lt;typeof FormSchema&gt;;
        </div>
      </div>

      <div class="section-box">
        <h4>2. å·¥å…·å‡½æ•°ï¼ˆutils/zodToAntd.tsï¼‰</h4>
        <div class="code-block">
import {`{`} Rule {`}`} from 'antd/es/form';<br>
import {`{`} ZodTypeAny {`}`} from 'zod';<br><br>

export const zodRule = (schema: ZodTypeAny): Rule => ({`{`}<br>
&nbsp;&nbsp;validator(_, value) {`{`}<br>
&nbsp;&nbsp;&nbsp;&nbsp;if (value === undefined || value === null) {`{`}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return Promise.resolve();<br>
&nbsp;&nbsp;&nbsp;&nbsp;{`}`}<br>
&nbsp;&nbsp;&nbsp;&nbsp;try {`{`}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;schema.parse(value);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return Promise.resolve();<br>
&nbsp;&nbsp;&nbsp;&nbsp;{`}`} catch (err: any) {`{`}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return Promise.reject(new Error(err.errors[0].message));<br>
&nbsp;&nbsp;&nbsp;&nbsp;{`}`}<br>
&nbsp;&nbsp;{`}`},<br>
{`}`});
        </div>
      </div>

      <div class="section-box">
        <h4>3. è¡¨å•ç»„ä»¶ï¼ˆcomponents/MemberForm.tsxï¼‰</h4>
        <div class="code-block">
import {`{`} ProForm, ProFormList, ProFormText {`}`} from '@ant-design/pro-form';<br>
import {`{`} message {`}`} from 'antd';<br>
import {`{`} MemberSchema, FormSchema, FormValues {`}`} from '@/schemas/member';<br>
import {`{`} zodRule {`}`} from '@/utils/zodToAntd';<br><br>

export default function MemberForm() {`{`}<br>
&nbsp;&nbsp;const onFinish = async (values: unknown) => {`{`}<br>
&nbsp;&nbsp;&nbsp;&nbsp;const result = FormSchema.safeParse(values);<br>
&nbsp;&nbsp;&nbsp;&nbsp;if (!result.success) {`{`}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const firstError = result.error.issues[0];<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message.error(firstError.message);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;<br>
&nbsp;&nbsp;&nbsp;&nbsp;{`}`}<br><br>

&nbsp;&nbsp;&nbsp;&nbsp;<span class="code-comment">// âœ… ç±»å‹å®‰å…¨çš„æ•°æ®</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;const data: FormValues = result.data;<br>
&nbsp;&nbsp;&nbsp;&nbsp;await api.submitMembers(data.members);<br>
&nbsp;&nbsp;&nbsp;&nbsp;message.success('æäº¤æˆåŠŸ');<br>
&nbsp;&nbsp;{`}`};<br><br>

&nbsp;&nbsp;return (<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;ProForm onFinish={`{`}onFinish{`}`}&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ProFormList name="members"&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ProFormText<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name="workId"<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label="å·¥å·"<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rules={`{`}[zodRule(MemberSchema.shape.workId)]{`}`}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ProFormText<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name="name"<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label="å§“å"<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rules={`{`}[zodRule(MemberSchema.shape.name)]{`}`}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ProFormText<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name="department"<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label="éƒ¨é—¨"<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rules={`{`}[zodRule(MemberSchema.shape.department)]{`}`}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/ProFormList&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/ProForm&gt;<br>
&nbsp;&nbsp;);<br>
{`}`}
        </div>
      </div>

      <h2>æ ¸å¿ƒä¼˜åŠ¿æ€»ç»“</h2>

      <div class="feature-list">
        <h4>âœ… ç±»å‹å®‰å…¨</h4>
        <ul>
          <li>Schema å®šä¹‰å³ç±»å‹å®šä¹‰ï¼Œé¿å…æ‰‹åŠ¨ç»´æŠ¤ interface</li>
          <li>è‡ªåŠ¨æ¨å¯¼ç±»å‹ï¼Œç¼–è¯‘æ—¶æ£€æŸ¥</li>
          <li>æäº¤æ—¶çš„æ•°æ®æ˜¯å®Œå…¨ç±»å‹å®‰å…¨çš„</li>
        </ul>
      </div>

      <div class="feature-list">
        <h4>âœ… è¿è¡Œæ—¶æ ¡éªŒ</h4>
        <ul>
          <li>Zod æä¾›å¼ºå¤§çš„è¿è¡Œæ—¶æ ¡éªŒèƒ½åŠ›</li>
          <li>æ”¯æŒæ­£åˆ™ã€è‡ªå®šä¹‰è§„åˆ™ã€å¼‚æ­¥æ ¡éªŒ</li>
          <li>é”™è¯¯ä¿¡æ¯å¯è‡ªå®šä¹‰ï¼Œç”¨æˆ·ä½“éªŒå¥½</li>
        </ul>
      </div>

      <div class="feature-list">
        <h4>âœ… é˜²å¾¡æ€§ç¼–ç¨‹</h4>
        <ul>
          <li>è¡¨å•é¡¹çº§åˆ«æ ¡éªŒï¼ˆç”¨æˆ·è¾“å…¥æ—¶ï¼‰</li>
          <li>æäº¤æ—¶äºŒæ¬¡æ ¡éªŒï¼ˆé˜²æ­¢ç»•è¿‡ UIï¼‰</li>
          <li>åç«¯æ¥æ”¶å‰å†æ¬¡æ ¡éªŒï¼ˆå®Œæ•´é˜²æŠ¤ï¼‰</li>
        </ul>
      </div>

      <div class="feature-list">
        <h4>âœ… å¼€å‘ä½“éªŒ</h4>
        <ul>
          <li>ä¸€å¤„å®šä¹‰ï¼Œå¤šå¤„ä½¿ç”¨</li>
          <li>IDE è‡ªåŠ¨è¡¥å…¨å’Œç±»å‹æç¤º</li>
          <li>é‡æ„æ—¶ç¼–è¯‘å™¨ä¼šæç¤ºæ‰€æœ‰éœ€è¦ä¿®æ”¹çš„åœ°æ–¹</li>
        </ul>
      </div>

      <div style="text-align: center;">
        <a href={`${import.meta.env.BASE_URL}`} class="back-link">â† è¿”å›é¦–é¡µ</a>
      </div>
    </div>
  </body>
</html>
