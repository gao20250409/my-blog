---
// JavaScriptç¼“å­˜æœºåˆ¶æ–‡ç« é¡µé¢
---

<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JavaScriptçš„ç¼“å­˜æœºåˆ¶æ¥æé«˜æ€§èƒ½ - å››å¤§ç¼“å­˜ç­–ç•¥å…¨è§£æ</title>
    
    <!-- Cloudflare Web Analytics -->
    <script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "YOUR_BEACON_TOKEN"}'></script>
    
    <style>
      body {
        font-family:
          -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        max-width: 900px;
        margin: 0 auto;
        padding: 20px;
        line-height: 1.6;
        background: #f8f9fa;
        color: #333;
      }
      .container {
        background: white;
        padding: 40px;
        border-radius: 10px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }
      h1 {
        color: #2c3e50;
        text-align: center;
        font-size: 2.5em;
        margin-bottom: 30px;
      }
      h2 {
        color: #34495e;
        border-bottom: 2px solid #3498db;
        padding-bottom: 10px;
        margin-top: 30px;
      }
      h3 {
        color: #2c3e50;
        margin-top: 25px;
      }
      .back-link {
        display: inline-block;
        background: #3498db;
        color: white;
        padding: 12px 24px;
        text-decoration: none;
        border-radius: 6px;
        margin-top: 30px;
        transition: background 0.3s ease;
      }
      .back-link:hover {
        background: #2980b9;
      }
      .meta-info {
        text-align: center;
        color: #7f8c8d;
        margin-bottom: 30px;
        padding: 15px;
        background: #ecf0f1;
        border-radius: 8px;
      }
      .feature-list {
        background: #e8f5e8;
        padding: 20px;
        border-radius: 8px;
        border-left: 4px solid #27ae60;
        margin: 20px 0;
      }
      
      /* ä»£ç å—æ ·å¼ */
      .code-block {
        background: #2d3748;
        color: #e2e8f0;
        border-radius: 8px;
        padding: 20px;
        margin: 15px 0;
        font-family: 'Courier New', monospace;
        font-size: 0.9em;
        overflow-x: auto;
        border-left: 4px solid #4299e1;
      }
      
      .code-comment {
        color: #68d391;
      }
      
      /* å¯¹æ¯”è¡¨æ ¼æ ·å¼ */
      .comparison-table {
        width: 100%;
        border-collapse: collapse;
        margin: 20px 0;
        background: white;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        font-size: 0.9em;
      }
      
      .comparison-table th,
      .comparison-table td {
        padding: 12px;
        text-align: left;
        border-bottom: 1px solid #e0e0e0;
        vertical-align: top;
      }
      
      .comparison-table th {
        background: #3498db;
        color: white;
        font-weight: 600;
        text-align: center;
        font-size: 0.95em;
      }
      
      .comparison-table tr:hover {
        background: #f8f9fa;
      }
      
      .comparison-table td:first-child {
        font-weight: 600;
        background: #f8f9fa;
        color: #2c3e50;
        min-width: 120px;
      }
      
      .highlight-box {
        background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
        padding: 20px;
        border-radius: 8px;
        border-left: 3px solid #f39c12;
        margin: 20px 0;
      }
      
      .highlight-box strong {
        color: #2c3e50;
      }
      
      .section-header {
        background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
        padding: 20px;
        border-radius: 10px;
        border-left: 4px solid #2196f3;
        margin: 25px 0;
        font-size: 1.1em;
      }
      
      .optimization-tip {
        background: #f0f8ff;
        padding: 15px;
        border-radius: 6px;
        border-left: 3px solid #4299e1;
        margin: 15px 0;
        font-size: 0.95em;
      }
      
      .emoji-large {
        font-size: 1.2em;
        margin-right: 8px;
      }
      
      .strategy-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 20px;
        margin: 20px 0;
      }
      
      .strategy-card {
        background: #f8f9fa;
        padding: 20px;
        border-radius: 8px;
        border-left: 4px solid #6c757d;
      }
      
      .strategy-card.runtime {
        border-left-color: #28a745;
        background: #f8fff8;
      }
      
      .strategy-card.code-level {
        border-left-color: #007bff;
        background: #f0f8ff;
      }
      
      .strategy-card.build-time {
        border-left-color: #ffc107;
        background: #fffdf0;
      }
      
      .strategy-card.persistent {
        border-left-color: #dc3545;
        background: #fff8f8;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>ğŸš€ JavaScriptçš„ç¼“å­˜æœºåˆ¶æ¥æé«˜æ€§èƒ½</h1>

      <div class="meta-info">
        <p>
          ğŸ“… å‘å¸ƒäº 2026å¹´1æœˆ | ğŸ‘¤ ä½œè€…ï¼šåšä¸» | ğŸ·ï¸ æ ‡ç­¾ï¼šJavaScriptç¼“å­˜, æ€§èƒ½ä¼˜åŒ–, è®°å¿†åŒ–, HTTPç¼“å­˜, Webå¼€å‘, å‰ç«¯, é¢è¯•
        </p>
      </div>

      <p>æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢æ–‡ç« ï¼æ‰€æœ‰æ–‡ç« éƒ½æ˜¯æ»¡æ»¡çš„å‰ç«¯å¹²è´§ï¼Œæ–‡ç« ç®€æ˜æ‰¼è¦ã€‚</p>


      <h2>ğŸ”¹ ä¸€ã€è¿è¡Œæ—¶å†…ç½®ç¼“å­˜ï¼ˆæµè§ˆå™¨/Node.js æä¾›ï¼‰</h2>
      
      <h3>HTTP ç¼“å­˜</h3>
      <p>æµè§ˆå™¨å¯¹ script/import çš„ JS æ–‡ä»¶æŒ‰ Cache-Control ç­‰å¤´ç¼“å­˜</p>
      
      <h3>V8 å¼•æ“ä¼˜åŒ–</h3>
      <ul>
        <li><strong>å†…è”ç¼“å­˜ï¼ˆInline Cachingï¼‰</strong>ï¼šåŠ é€Ÿå±æ€§è®¿é—®</li>
        <li><strong>ä»£ç ç¼“å­˜ï¼ˆCode Cachingï¼‰</strong>ï¼šåŠ å¿«äºŒæ¬¡æ‰§è¡Œ</li>
      </ul>

      <div class="highlight-box">
        <strong>âœ… å·¥ç¨‹å»ºè®®ï¼š</strong>åœ¨ Vite + æ¨¡å—è”é‚¦é¡¹ç›®ä¸­ï¼Œç¡®ä¿ï¼š
        <div class="code-block">
<span class="code-comment">// vite.config.ts</span><br>
build: {`{`}<br>
&nbsp;&nbsp;rollupOptions: {`{`}<br>
&nbsp;&nbsp;&nbsp;&nbsp;output: {`{`}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;entryFileNames: `[name].[hash].js`, <span class="code-comment">// åˆ©ç”¨é•¿æœŸç¼“å­˜</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chunkFileNames: `[name].[hash].js`,<br>
&nbsp;&nbsp;&nbsp;&nbsp;{`}`}<br>
&nbsp;&nbsp;{`}`}<br>
{`}`}
        </div>
        <p>å¹¶é…ç½® CDN ç¼“å­˜ç­–ç•¥ï¼Œè®© Remote æ¨¡å—åªæ›´æ–°å˜åŠ¨éƒ¨åˆ†ã€‚</p>
      </div>

      <h2>ğŸ”¹ äºŒã€ä»£ç çº§æ˜¾å¼ç¼“å­˜ï¼ˆå¼€å‘è€…å¯æ§ï¼‰</h2>

      <h3>è®°å¿†åŒ–ï¼ˆMemoizationï¼‰â€”â€” ç¼“å­˜çº¯å‡½æ•°ç»“æœ</h3>
      <p><strong>é€‚ç”¨äºï¼š</strong>è®¡ç®—å¯†é›†ã€è¾“å…¥å¯åºåˆ—åŒ–çš„åœºæ™¯ï¼ˆå¦‚æ•°å­¦å…¬å¼ã€æ ¼å¼è½¬æ¢ã€React è®¡ç®—å±æ€§ï¼‰ã€‚</p>

      <div class="code-block">
<span class="code-comment">// åŸºç¡€ç‰ˆï¼šç”¨ Map ç¼“å­˜</span><br>
function memoize(fn) {`{`}<br>
&nbsp;&nbsp;const cache = new Map();<br>
&nbsp;&nbsp;return (...args) => {`{`}<br>
&nbsp;&nbsp;&nbsp;&nbsp;const key = JSON.stringify(args); <span class="code-comment">// æ³¨æ„ï¼šå¾ªç¯å¼•ç”¨ä¼šæŠ¥é”™ï¼</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;if (cache.has(key)) return cache.get(key);<br>
&nbsp;&nbsp;&nbsp;&nbsp;const result = fn(...args);<br>
&nbsp;&nbsp;&nbsp;&nbsp;cache.set(key, result);<br>
&nbsp;&nbsp;&nbsp;&nbsp;return result;<br>
&nbsp;&nbsp;{`}`};<br>
{`}`}<br><br>

<span class="code-comment">// ä½¿ç”¨</span><br>
const calcTax = memoize((income, rate) => {`{`}<br>
&nbsp;&nbsp;console.log("è®¡ç®—ä¸­..."); <span class="code-comment">// ä»…é¦–æ¬¡æ‰“å°</span><br>
&nbsp;&nbsp;return income * rate;<br>
{`}`});<br><br>

calcTax(10000, 0.1); <span class="code-comment">// è®¡ç®—ä¸­... â†’ 1000</span><br>
calcTax(10000, 0.1); <span class="code-comment">// ç›´æ¥è¿”å› 1000</span>
      </div>

      <div class="optimization-tip">
        <strong>ğŸ”§ è¿›é˜¶ä¼˜åŒ–ï¼š</strong>
        <ul>
          <li>ç”¨ <strong>WeakMap + å¼•ç”¨ä½œä¸º key</strong>ï¼ˆé¿å…å†…å­˜æ³„æ¼ï¼Œé€‚åˆç¼“å­˜ DOM èŠ‚ç‚¹ç›¸å…³è®¡ç®—ï¼‰</li>
          <li><strong>é™åˆ¶ç¼“å­˜å¤§å°</strong>ï¼ˆLRU ç­–ç•¥ï¼‰ï¼Œé˜²å†…å­˜çˆ†ç‚¸</li>
          <li>React ä¸­å¯ç”¨ <strong>useMemo / useCallback</strong> å®ç°ç»„ä»¶çº§è®°å¿†åŒ–</li>
        </ul>
      </div>

      <h3>è¯·æ±‚çº§ç¼“å­˜ï¼ˆå‰ç«¯ API å±‚ï¼‰</h3>
      <p>åœ¨ fetch å°è£…å±‚ä¸­åŠ å…¥ç¼“å­˜ï¼š</p>

      <div class="code-block">
const apiCache = new Map&lt;string, {`{`} data: any; expires: number {`}`}&gt;();<br><br>

async function cachedFetch(url: string, ttl = 5 * 60 * 1000) {`{`}<br>
&nbsp;&nbsp;const now = Date.now();<br>
&nbsp;&nbsp;const cached = apiCache.get(url);<br><br>
&nbsp;&nbsp;if (cached && cached.expires > now) {`{`}<br>
&nbsp;&nbsp;&nbsp;&nbsp;return cached.data;<br>
&nbsp;&nbsp;{`}`}<br><br>
&nbsp;&nbsp;const res = await fetch(url);<br>
&nbsp;&nbsp;const data = await res.json();<br>
&nbsp;&nbsp;apiCache.set(url, {`{`} data, expires: now + ttl {`}`});<br>
&nbsp;&nbsp;return data;<br>
{`}`}
      </div>

      <div class="optimization-tip">
        <strong>ğŸ’¡ æ­é…å»ºè®®ï¼š</strong>é…åˆ SWR / React Query ç­‰åº“ï¼Œå¯å®ç°è‡ªåŠ¨ stale-while-revalidate ç­–ç•¥ã€‚
      </div>

      <h2>ğŸ”¹ ä¸‰ã€æ„å»ºæ—¶ç¼“å­˜ï¼ˆå·¥ç¨‹åŒ–åŠ é€Ÿï¼‰</h2>
      <div class="feature-list">
        <h4>ä¸»è¦ä¼˜åŒ–ç‚¹ï¼š</h4>
        <ul>
          <li><strong>ä¾èµ–ç¼“å­˜</strong>ï¼šå¤ç”¨ .vite + node_modules ç¼“å­˜</li>
          <li><strong>CI ç¼“å­˜ç­–ç•¥</strong>ï¼šç¼“å­˜æ„å»ºäº§ç‰©å’Œä¾èµ–</li>
          <li><strong>pnpm store</strong>ï¼šå…¨å±€ä¾èµ–å­˜å‚¨ï¼Œé¿å…é‡å¤ä¸‹è½½</li>
          <li><strong>å¢é‡æ„å»º</strong>ï¼šåªæ„å»ºå˜æ›´çš„æ¨¡å—</li>
        </ul>
      </div>

      <h2>ğŸ”¹ å››ã€æŒä¹…åŒ–ç¼“å­˜ï¼ˆç”¨æˆ·è®¾å¤‡çº§ï¼‰</h2>
      <p>å½“é¡µé¢åˆ·æ–°åä»éœ€ä¿ç•™ç¼“å­˜æ—¶ä½¿ç”¨ï¼š</p>

      <table class="comparison-table">
        <thead>
          <tr>
            <th>æ–¹æ¡ˆ</th>
            <th>å®¹é‡</th>
            <th>ç”Ÿå‘½å‘¨æœŸ</th>
            <th>é€‚ç”¨åœºæ™¯</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>localStorage</td>
            <td>~5MB</td>
            <td>æ°¸ä¹…ï¼ˆé™¤éæ¸…é™¤ï¼‰</td>
            <td>ç”¨æˆ·åå¥½ã€ä½é¢‘é…ç½®</td>
          </tr>
          <tr>
            <td>sessionStorage</td>
            <td>~5MB</td>
            <td>ä¼šè¯çº§</td>
            <td>ä¸´æ—¶è¡¨å•æ•°æ®</td>
          </tr>
          <tr>
            <td>IndexedDB</td>
            <td>~50% ç£ç›˜ç©ºé—´</td>
            <td>æ°¸ä¹…</td>
            <td>å¤§é‡ç»“æ„åŒ–æ•°æ®ï¼ˆå¦‚ç¦»çº¿æ–‡æ¡£ã€ç¼“å­˜ API å“åº”ï¼‰</td>
          </tr>
          <tr>
            <td>Cache APIï¼ˆService Workerï¼‰</td>
            <td>å¤§</td>
            <td>å¯ç¼–ç¨‹æ§åˆ¶</td>
            <td>PWA èµ„æºç¼“å­˜ã€ç¦»çº¿ fallback</td>
          </tr>
        </tbody>
      </table>

      <h2>âœ… ç»¼åˆå»ºè®®ï¼ˆå‰ç«¯ç»„é•¿è§†è§’ï¼‰</h2>
      <table class="comparison-table">
        <thead>
          <tr>
            <th>åœºæ™¯</th>
            <th>æ¨èç¼“å­˜ç­–ç•¥</th>
            <th>å·¥å…·/åº“</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>é¢‘ç¹è®¡ç®—ï¼ˆæ•°å­¦/æ ¼å¼ï¼‰</td>
            <td>è®°å¿†åŒ–ï¼ˆmemoizeï¼‰</td>
            <td>è‡ªç ” / lodash.memoize</td>
          </tr>
          <tr>
            <td>è¿œç¨‹æ¨¡å—åŠ è½½</td>
            <td>æ¨¡å—ç¼“å­˜ + eager å…±äº«</td>
            <td>Webpack Module Federation</td>
          </tr>
          <tr>
            <td>API è¯·æ±‚</td>
            <td>å†…å­˜ç¼“å­˜ + SWR ç­–ç•¥</td>
            <td>swr, react-query, axios-cache-interceptor</td>
          </tr>
          <tr>
            <td>æ„å»ºé€Ÿåº¦</td>
            <td>å¤ç”¨ .vite + node_modules ç¼“å­˜</td>
            <td>CI ç¼“å­˜ç­–ç•¥ã€pnpm store</td>
          </tr>
          <tr>
            <td>ç¦»çº¿ä½“éªŒ</td>
            <td>Service Worker + Cache API</td>
            <td>Workbox</td>
          </tr>
          <tr>
            <td>å¤§å‹çŠ¶æ€</td>
            <td>useMemo + useCallback + æŒä¹…åŒ–æ’ä»¶</td>
            <td>Zustand/Pinia æŒä¹…åŒ–æ’ä»¶</td>
          </tr>
        </tbody>
      </table>


      <div style="text-align: center;">
        <a href={`${import.meta.env.BASE_URL}`} class="back-link">â† è¿”å›é¦–é¡µ</a>
      </div>
    </div>
  </body>
</html>