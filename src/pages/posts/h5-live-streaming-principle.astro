---
// H5ç›´æ’­åŸç†æ–‡ç« é¡µé¢
---

<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>H5ç›´æ’­åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ</title>
    
    <style>
      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        max-width: 900px;
        margin: 0 auto;
        padding: 20px;
        line-height: 1.6;
        background: #f8f9fa;
        color: #333;
      }
      .container {
        background: white;
        padding: 40px;
        border-radius: 10px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }
      h1 {
        color: #2c3e50;
        text-align: center;
        font-size: 2.5em;
        margin-bottom: 30px;
      }
      h2 {
        color: #34495e;
        border-bottom: 2px solid #3498db;
        padding-bottom: 10px;
        margin-top: 30px;
      }
      h3 {
        color: #2c3e50;
        margin-top: 25px;
      }
      .back-link {
        display: inline-block;
        background: #3498db;
        color: white;
        padding: 12px 24px;
        text-decoration: none;
        border-radius: 6px;
        margin-top: 30px;
        transition: background 0.3s ease;
      }
      .back-link:hover {
        background: #2980b9;
      }
      .meta-info {
        text-align: center;
        color: #7f8c8d;
        margin-bottom: 30px;
        padding: 15px;
        background: #ecf0f1;
        border-radius: 8px;
      }
      .highlight-box {
        background: #fff3cd;
        padding: 20px;
        border-radius: 8px;
        border-left: 3px solid #f39c12;
        margin: 20px 0;
      }
      .code-block {
        background: #2d3748;
        color: #e2e8f0;
        border-radius: 8px;
        padding: 20px;
        margin: 15px 0;
        font-family: 'Courier New', monospace;
        font-size: 0.9em;
        overflow-x: auto;
        border-left: 4px solid #4299e1;
      }
      .code-comment {
        color: #68d391;
      }
      .comparison-table {
        width: 100%;
        border-collapse: collapse;
        margin: 20px 0;
        background: white;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      }
      .comparison-table th,
      .comparison-table td {
        padding: 12px;
        text-align: left;
        border-bottom: 1px solid #e0e0e0;
      }
      .comparison-table th {
        background: #3498db;
        color: white;
        font-weight: 600;
      }
      .comparison-table tr:hover {
        background: #f8f9fa;
      }
      .feature-list {
        background: #e8f5e8;
        padding: 20px;
        border-radius: 8px;
        border-left: 4px solid #27ae60;
        margin: 20px 0;
      }
      .section-box {
        background: #f0f8ff;
        padding: 20px;
        border-radius: 8px;
        border-left: 4px solid #2196f3;
        margin: 20px 0;
      }
      .warning-box {
        background: #ffe8e8;
        padding: 20px;
        border-radius: 8px;
        border-left: 4px solid #e74c3c;
        margin: 20px 0;
      }
      ul, ol {
        margin: 15px 0;
        padding-left: 30px;
      }
      li {
        margin: 8px 0;
      }
      .flow-diagram {
        background: #f8f9fa;
        padding: 20px;
        border-radius: 8px;
        text-align: center;
        margin: 20px 0;
        font-family: monospace;
        font-size: 0.95em;
        border: 2px solid #dee2e6;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>ğŸ“¡ H5ç›´æ’­åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ</h1>

      <div class="meta-info">
        <p>ğŸ“… å‘å¸ƒäº 2026å¹´2æœˆ | ğŸ‘¤ ä½œè€…ï¼šåšä¸» | ğŸ·ï¸ æ ‡ç­¾ï¼šH5ç›´æ’­, HLS, HTTP-FLV, WebRTC, MSE, CDN, Webå¼€å‘, å‰ç«¯, é¢è¯•</p>
      </div>

      <p>æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢æ–‡ç« ï¼æ‰€æœ‰æ–‡ç« éƒ½æ˜¯æ»¡æ»¡çš„å‰ç«¯å¹²è´§ï¼Œæ–‡ç« ç®€æ˜æ‰¼è¦ã€‚</p>

      <h2>ä¸€ã€æ ¸å¿ƒé“¾è·¯æ¶æ„ï¼ˆç«¯åˆ°ç«¯ï¼‰</h2>

      <div class="highlight-box">
        <p>H5 ç›´æ’­çš„æ•°æ®æµå‘å¯ä»¥æ¦‚æ‹¬ä¸ºå››ä¸ªé˜¶æ®µï¼š</p>
        <p><strong>é‡‡é›†æ¨æµ â†’ æœåŠ¡ç«¯å¤„ç† â†’ CDN åˆ†å‘ â†’ æ‹‰æµæ’­æ”¾</strong></p>
      </div>

      <div class="flow-diagram">
ğŸ“± ä¸»æ’­ç«¯<br>
&nbsp;&nbsp;&nbsp;â†“<br>
ğŸ¥ é‡‡é›†æ¨æµ (RTMP/SRT)<br>
&nbsp;&nbsp;&nbsp;â†“<br>
ğŸ–¥ï¸ æµåª’ä½“æœåŠ¡å™¨ (è½¬ç /è½¬åè®®)<br>
&nbsp;&nbsp;&nbsp;â†“<br>
ğŸŒ CDN åˆ†å‘ (è¾¹ç¼˜èŠ‚ç‚¹)<br>
&nbsp;&nbsp;&nbsp;â†“<br>
ğŸ“º è§‚ä¼—ç«¯ (HLS/FLV/WebRTC)
      </div>

      <h3>1. é‡‡é›†ä¸æ¨æµï¼ˆPushï¼‰</h3>

      <div class="section-box">
        <ul>
          <li><strong>è®¾å¤‡ï¼š</strong>æ‰‹æœº Appã€OBSã€æ‘„åƒå¤´</li>
          <li><strong>åŠ¨ä½œï¼š</strong>é‡‡é›†éŸ³è§†é¢‘åŸå§‹æ•°æ®ï¼ˆYUV/PCMï¼‰ â†’ ç¼–ç ï¼ˆH.264/H.265, AACï¼‰ â†’ å°è£…</li>
          <li><strong>åè®®ï¼š</strong>é€šå¸¸ä½¿ç”¨ RTMP æˆ– SRT åè®®å°†æ•°æ®æ¨é€åˆ°æºç«™æœåŠ¡å™¨</li>
        </ul>

        <div class="highlight-box">
          <p>ğŸ’¡ æµè§ˆå™¨ç«¯æ¨æµè¾ƒéš¾ï¼Œé€šå¸¸éœ€å€ŸåŠ© <code>getUserMedia + WebRTC</code> æˆ– <code>MediaRecorder API</code>ã€‚</p>
        </div>
      </div>

      <h3>2. æœåŠ¡ç«¯å¤„ç†ï¼ˆProcessï¼‰</h3>

      <div class="section-box">
        <p><strong>æµåª’ä½“æœåŠ¡å™¨ï¼ˆå¦‚ SRS, Nginx-rtmpï¼‰ï¼š</strong></p>
        <ul>
          <li><strong>æ¥æ”¶æ¨æµ</strong></li>
          <li><strong>è½¬ç ï¼ˆTranscodingï¼‰ï¼š</strong>å°†ä¸€è·¯æµå˜æˆå¤šç§æ¸…æ™°åº¦ï¼ˆ1080P/720P/480Pï¼‰ï¼Œé€‚é…ä¸åŒç½‘ç»œ</li>
          <li><strong>åè®®è½¬æ¢ï¼š</strong>å°† RTMP è½¬æ¢ä¸ºé€‚åˆæµè§ˆå™¨æ‹‰æµçš„åè®®ï¼ˆHLS, HTTP-FLV, DASHï¼‰</li>
          <li><strong>å†…å®¹å®¡æ ¸ï¼š</strong>å®æ—¶æˆªå›¾é‰´é»„ã€é‰´æš´</li>
        </ul>
      </div>

      <h3>3. CDN åˆ†å‘ï¼ˆDistributeï¼‰</h3>

      <div class="section-box">
        <ul>
          <li>åˆ©ç”¨ <strong>å†…å®¹åˆ†å‘ç½‘ç»œï¼ˆCDNï¼‰</strong> å°†æµç¼“å­˜åˆ°ç¦»ç”¨æˆ·æœ€è¿‘çš„è¾¹ç¼˜èŠ‚ç‚¹</li>
          <li>è§£å†³é«˜å¹¶å‘é—®é¢˜ï¼ˆä¸‡äººåŒæ—¶åœ¨çº¿ä¸å¡é¡¿ï¼‰</li>
        </ul>
      </div>

      <h3>4. æ‹‰æµä¸æ’­æ”¾ï¼ˆPlayï¼‰</h3>

      <div class="section-box">
        <ul>
          <li>æµè§ˆå™¨é€šè¿‡ JavaScript è¯·æ±‚è§†é¢‘æµ</li>
          <li>è§£ç å¹¶æ¸²æŸ“åˆ° <code>&lt;video&gt;</code> æ ‡ç­¾æˆ– Canvas ä¸Š</li>
        </ul>
      </div>

      <h2>äºŒã€ä¸‰å¤§ä¸»æµæ’­æ”¾åè®®åŸç†</h2>

      <div class="highlight-box">
        <p>è¿™æ˜¯ H5 ç›´æ’­æœ€æ ¸å¿ƒçš„æŠ€æœ¯å·®å¼‚ç‚¹ï¼Œå†³å®šäº†<strong>å»¶è¿Ÿå’Œå…¼å®¹æ€§</strong>ã€‚</p>
      </div>

      <h3>1. HLS åŸç†ï¼ˆæœ€é€šç”¨ï¼‰</h3>

      <div class="section-box">
        <p><strong>æœºåˆ¶ï¼š</strong></p>
        <ul>
          <li>æœåŠ¡å™¨æ¯éš” 2~5 ç§’ç”Ÿæˆä¸€ä¸ª <code>.ts</code> è§†é¢‘ç‰‡æ®µï¼Œå¹¶æ›´æ–° <code>.m3u8</code> æ’­æ”¾åˆ—è¡¨</li>
        </ul>

        <p><strong>æµè§ˆå™¨è¡Œä¸ºï¼š</strong></p>
        <div class="code-block">
æ’­æ”¾å™¨è¯·æ±‚ m3u8<br>
&nbsp;&nbsp;â†“<br>
è§£ææœ€æ–°ç‰‡æ®µ URL<br>
&nbsp;&nbsp;â†“<br>
ä¸‹è½½ ts æ–‡ä»¶<br>
&nbsp;&nbsp;â†“<br>
è§£ç æ’­æ”¾
        </div>

        <div class="warning-box">
          <p><strong>ç¼ºç‚¹ï¼š</strong>å¿…é¡»ç­‰ä¸€ä¸ªåˆ‡ç‰‡ä¸‹è½½å®Œæ‰èƒ½æ’­ï¼Œå¯¼è‡´å»¶è¿Ÿç´¯ç§¯ï¼ˆé€šå¸¸ 10 ç§’ä»¥ä¸Šï¼‰</p>
        </div>

        <div class="feature-list">
          <p><strong>ä¼˜åŒ–ï¼š</strong>ä½å»¶è¿Ÿ HLS (LL-HLS) å¯å°†å»¶è¿Ÿé™è‡³ 3 ç§’å·¦å³</p>
        </div>
      </div>

      <h3>2. HTTP-FLV åŸç†ï¼ˆå›½å†…æœ€å¸¸ç”¨ï¼‰</h3>

      <div class="section-box">
        <p><strong>æœºåˆ¶ï¼š</strong></p>
        <ul>
          <li>æœåŠ¡å™¨ä¸åˆ‡ç‰‡ï¼Œè€Œæ˜¯é€šè¿‡ HTTP é•¿è¿æ¥ï¼Œæºæºä¸æ–­åœ°å‘é€ FLV æ•°æ®åŒ…</li>
        </ul>

        <p><strong>æµè§ˆå™¨è¡Œä¸ºï¼š</strong></p>
        <ul>
          <li>åŸç”Ÿ <code>&lt;video&gt;</code> æ ‡ç­¾ä¸æ”¯æŒ FLV</li>
          <li>éœ€ä½¿ç”¨ <strong>MSE (Media Source Extensions)</strong> æŠ€æœ¯</li>
          <li>JS åº“ï¼ˆå¦‚ flv.jsï¼‰é€šè¿‡ XHR/Fetch æ¥æ”¶äºŒè¿›åˆ¶æµ â†’ è§£å°è£… â†’ å–‚ç»™ MSE â†’ æµè§ˆå™¨è§£ç </li>
        </ul>

        <div class="feature-list">
          <p><strong>ä¼˜ç‚¹ï¼š</strong>å»¶è¿Ÿæ¯” HLS ä½ï¼Œå®ç°ç®€å•</p>
        </div>

        <div class="warning-box">
          <p><strong>ç¼ºç‚¹ï¼š</strong>iOS Safari ä¸æ”¯æŒ MSEï¼Œæ— æ³•æ’­æ”¾ï¼ˆéœ€è½¬ HLSï¼‰</p>
        </div>
      </div>

      <h3>3. WebRTC åŸç†ï¼ˆè¶…ä½å»¶è¿Ÿï¼‰</h3>

      <div class="section-box">
        <p><strong>æœºåˆ¶ï¼š</strong></p>
        <ul>
          <li>åŸºäº RTP/RTCP åè®®ï¼Œæ•°æ®åˆ†ç‰‡ï¼ˆPacketï¼‰ä¼ è¾“ï¼Œæ— éœ€ç­‰å¾…æ–‡ä»¶ç”Ÿæˆ</li>
        </ul>

        <p><strong>æ¶æ„ï¼š</strong></p>
        <ul>
          <li><strong>SFU (Selective Forwarding Unit)ï¼š</strong>æœåŠ¡å™¨åªè½¬å‘æµï¼Œä¸æ··æµã€‚é€‚åˆå¤šäººäº’åŠ¨</li>
          <li><strong>MCU (Multi-Point Control Unit)ï¼š</strong>æœåŠ¡å™¨æ··æµåæ¨ç»™è§‚ä¼—</li>
        </ul>

        <div class="feature-list">
          <p><strong>ä¼˜ç‚¹ï¼š</strong>æ¯«ç§’çº§å»¶è¿Ÿï¼Œæ”¯æŒåŒå‘äº’åŠ¨</p>
        </div>

        <div class="warning-box">
          <p><strong>ç¼ºç‚¹ï¼š</strong>å¸¦å®½æˆæœ¬é«˜ï¼ŒæœåŠ¡å™¨å‹åŠ›å¤§ï¼Œç©¿é€å¤æ‚</p>
        </div>
      </div>

      <h2>ä¸‰ã€æµè§ˆå™¨æ’­æ”¾æ ¸å¿ƒæŠ€æœ¯ï¼ˆMSE & WebCodecsï¼‰</h2>

      <div class="highlight-box">
        <p>ä¸ºä»€ä¹ˆæµè§ˆå™¨èƒ½æ’­ç›´æ’­ï¼Ÿå…³é”®åœ¨äºä»¥ä¸‹ä¸¤ä¸ª APIï¼š</p>
      </div>

      <h3>1. MSE (Media Source Extensions)</h3>

      <div class="section-box">
        <p><strong>ä½œç”¨ï¼š</strong>å…è®¸ JavaScript åŠ¨æ€æ„å»ºåª’ä½“æµï¼Œå¹¶ä¼ é€’ç»™ <code>&lt;video&gt;</code> æ ‡ç­¾ã€‚</p>

        <p><strong>æµç¨‹ï¼š</strong></p>
        <ol>
          <li>JS é€šè¿‡ fetch/xhr è·å–è§†é¢‘äºŒè¿›åˆ¶æ•°æ®ï¼ˆFLV/fMP4ï¼‰</li>
          <li>åˆ›å»º MediaSource å¯¹è±¡å¹¶ç»‘å®šåˆ° video æ ‡ç­¾</li>
          <li>åˆ›å»º SourceBufferï¼Œå°†æ•°æ® appendBuffer è¿›å»</li>
          <li>æµè§ˆå™¨è‡ªåŠ¨è§£ç æ’­æ”¾</li>
        </ol>

        <div class="code-block">
<span class="code-comment">// MSE åŸºæœ¬ä½¿ç”¨</span><br>
const video = document.querySelector('video');<br>
const mediaSource = new MediaSource();<br>
video.src = URL.createObjectURL(mediaSource);<br><br>

mediaSource.addEventListener('sourceopen', () => {`{`}<br>
&nbsp;&nbsp;const sourceBuffer = mediaSource.addSourceBuffer('video/mp4; codecs="avc1.42E01E, mp4a.40.2"');<br>
&nbsp;&nbsp;<br>
&nbsp;&nbsp;<span class="code-comment">// é€šè¿‡ fetch è·å–è§†é¢‘æ•°æ®</span><br>
&nbsp;&nbsp;fetch('stream.flv')<br>
&nbsp;&nbsp;&nbsp;&nbsp;.then(response => response.arrayBuffer())<br>
&nbsp;&nbsp;&nbsp;&nbsp;.then(data => {`{`}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sourceBuffer.appendBuffer(data);<br>
&nbsp;&nbsp;&nbsp;&nbsp;{`}`});<br>
{`}`});
        </div>

        <div class="feature-list">
          <p><strong>æ„ä¹‰ï¼š</strong>è®©æµè§ˆå™¨æ— éœ€æ’ä»¶å³å¯æ’­æ”¾ HLS/FLV/DASH</p>
        </div>
      </div>

      <h3>2. WebCodecs (æ–°ä¸€ä»£)</h3>

      <div class="section-box">
        <ul>
          <li><strong>ä½œç”¨ï¼š</strong>æä¾›æ›´åº•å±‚çš„éŸ³è§†é¢‘ç¼–è§£ç æ§åˆ¶ï¼Œæ€§èƒ½æ¯” MSE æ›´å¥½</li>
          <li><strong>ç°çŠ¶ï¼š</strong>æ­£åœ¨é€æ­¥æ™®åŠï¼Œé…åˆ WebTransport å¯å®ç°æ›´é«˜æ•ˆçš„ä½å»¶è¿Ÿç›´æ’­</li>
        </ul>
      </div>

      <h2>å››ã€å¦‚ä½•é€‰æ‹©æŠ€æœ¯æ–¹æ¡ˆï¼Ÿ</h2>

      <table class="comparison-table">
        <thead>
          <tr>
            <th>éœ€æ±‚åœºæ™¯</th>
            <th>æ¨èæ–¹æ¡ˆ</th>
            <th>ç†ç”±</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>å¤§å‹èµ›äº‹/æ˜¥æ™š</td>
            <td><strong>HLS</strong></td>
            <td>å…¼å®¹æ€§æœ€å¥½ï¼ŒCDN æˆæœ¬æœ€ä½ï¼Œå»¶è¿Ÿä¸æ•æ„Ÿ</td>
          </tr>
          <tr>
            <td>ç”µå•†å¸¦è´§/ç§€åœº</td>
            <td><strong>HTTP-FLV (Android/PC) + HLS (iOS)</strong></td>
            <td>å¹³è¡¡å»¶è¿Ÿä¸æˆæœ¬ï¼Œå›½å†…ä¸»æµæ–¹æ¡ˆ</td>
          </tr>
          <tr>
            <td>åœ¨çº¿è¯¾å ‚/è¿éº¦</td>
            <td><strong>WebRTC</strong></td>
            <td>å¿…é¡»æ¯«ç§’çº§å»¶è¿Ÿï¼Œå¦åˆ™æ— æ³•å¯¹è¯</td>
          </tr>
          <tr>
            <td>ç›‘æ§/å®‰é˜²</td>
            <td><strong>WebRTC / WebSocket</strong></td>
            <td>è¦æ±‚å®æ—¶æ€§æé«˜ï¼Œä¸”éœ€åŒå‘æ§åˆ¶</td>
          </tr>
        </tbody>
      </table>

      <h2>äº”ã€åè®®å¯¹æ¯”æ€»ç»“</h2>

      <table class="comparison-table">
        <thead>
          <tr>
            <th>åè®®</th>
            <th>å»¶è¿Ÿ</th>
            <th>å…¼å®¹æ€§</th>
            <th>æˆæœ¬</th>
            <th>é€‚ç”¨åœºæ™¯</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><strong>HLS</strong></td>
            <td>10-30ç§’</td>
            <td>âœ… æœ€å¥½ï¼ˆåŸç”Ÿæ”¯æŒï¼‰</td>
            <td>âœ… æœ€ä½</td>
            <td>å¤§å‹æ´»åŠ¨ã€ç‚¹æ’­</td>
          </tr>
          <tr>
            <td><strong>HTTP-FLV</strong></td>
            <td>2-5ç§’</td>
            <td>âš ï¸ éœ€ MSEï¼ˆiOS ä¸æ”¯æŒï¼‰</td>
            <td>âœ… ä½</td>
            <td>ç”µå•†ç›´æ’­ã€ç§€åœº</td>
          </tr>
          <tr>
            <td><strong>WebRTC</strong></td>
            <td>100-500æ¯«ç§’</td>
            <td>âœ… ç°ä»£æµè§ˆå™¨æ”¯æŒ</td>
            <td>âŒ é«˜</td>
            <td>è¿éº¦ã€è§†é¢‘ä¼šè®®</td>
          </tr>
        </tbody>
      </table>

      <h2>ğŸ’¡ æ ¸å¿ƒç»“è®º</h2>

      <div class="highlight-box">
        <p><strong>H5 ç›´æ’­çš„æœ¬è´¨ = æµåª’ä½“åè®®è½¬æ¢ + CDN åˆ†å‘ + æµè§ˆå™¨ MSE è§£ç </strong></p>
        <ul>
          <li>å¦‚æœè¿½æ±‚<strong>ç¨³å®šå’Œè¦†ç›–</strong>ï¼Œé€‰ <strong>HLS</strong></li>
          <li>å¦‚æœè¿½æ±‚<strong>ä½å»¶è¿Ÿå’Œæˆæœ¬å¹³è¡¡</strong>ï¼Œé€‰ <strong>HTTP-FLV</strong></li>
          <li>å¦‚æœè¿½æ±‚<strong>å®æ—¶äº’åŠ¨</strong>ï¼Œé€‰ <strong>WebRTC</strong></li>
        </ul>
      </div>

      <div style="text-align: center;">
        <a href={`${import.meta.env.BASE_URL}`} class="back-link">â† è¿”å›é¦–é¡µ</a>
      </div>
    </div>
  </body>
</html>
