---
// JavaScriptå¾ªç¯å’Œæ¡ä»¶è¯­å¥ä¼˜åŒ–æ–‡ç« é¡µé¢
---

<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>å¦‚ä½•ä¼˜åŒ–JavaScriptä¸­çš„å¾ªç¯å’Œæ¡ä»¶è¯­å¥ä»¥æé«˜æ€§èƒ½</title>
    
    <!-- Cloudflare Web Analytics -->
    <script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "YOUR_BEACON_TOKEN"}'></script>
    
    <style>
      body {
        font-family:
          -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        max-width: 900px;
        margin: 0 auto;
        padding: 20px;
        line-height: 1.6;
        background: #f8f9fa;
        color: #333;
      }
      .container {
        background: white;
        padding: 40px;
        border-radius: 10px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }
      h1 {
        color: #2c3e50;
        text-align: center;
        font-size: 2.5em;
        margin-bottom: 30px;
      }
      h2 {
        color: #34495e;
        border-bottom: 2px solid #3498db;
        padding-bottom: 10px;
        margin-top: 30px;
      }
      h3 {
        color: #2c3e50;
        margin-top: 25px;
      }
      .back-link {
        display: inline-block;
        background: #3498db;
        color: white;
        padding: 12px 24px;
        text-decoration: none;
        border-radius: 6px;
        margin-top: 30px;
        transition: background 0.3s ease;
      }
      .back-link:hover {
        background: #2980b9;
      }
      .meta-info {
        text-align: center;
        color: #7f8c8d;
        margin-bottom: 30px;
        padding: 15px;
        background: #ecf0f1;
        border-radius: 8px;
      }
      .feature-list {
        background: #e8f5e8;
        padding: 20px;
        border-radius: 8px;
        border-left: 4px solid #27ae60;
        margin: 20px 0;
      }
      
      /* ä»£ç å—æ ·å¼ */
      .code-block {
        background: #2d3748;
        color: #e2e8f0;
        border-radius: 8px;
        padding: 20px;
        margin: 15px 0;
        font-family: 'Courier New', monospace;
        font-size: 0.9em;
        overflow-x: auto;
        border-left: 4px solid #4299e1;
      }
      
      .code-comment {
        color: #68d391;
      }
      
      .code-good {
        color: #68d391;
      }
      
      .code-bad {
        color: #fc8181;
      }
      
      /* å¯¹æ¯”è¡¨æ ¼æ ·å¼ */
      .comparison-table {
        width: 100%;
        border-collapse: collapse;
        margin: 20px 0;
        background: white;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        font-size: 0.9em;
      }
      
      .comparison-table th,
      .comparison-table td {
        padding: 12px;
        text-align: left;
        border-bottom: 1px solid #e0e0e0;
        vertical-align: top;
      }
      
      .comparison-table th {
        background: #3498db;
        color: white;
        font-weight: 600;
        text-align: center;
        font-size: 0.95em;
      }
      
      .comparison-table tr:hover {
        background: #f8f9fa;
      }
      
      .comparison-table td:first-child {
        font-weight: 600;
        background: #f8f9fa;
        color: #2c3e50;
        min-width: 120px;
      }
      
      .highlight-box {
        background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
        padding: 20px;
        border-radius: 8px;
        border-left: 3px solid #f39c12;
        margin: 20px 0;
      }
      
      .highlight-box strong {
        color: #2c3e50;
      }
      
      .section-header {
        background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
        padding: 20px;
        border-radius: 10px;
        border-left: 4px solid #2196f3;
        margin: 25px 0;
        font-size: 1.1em;
      }
      
      .warning-box {
        background: #fff5f5;
        padding: 15px;
        border-radius: 6px;
        border-left: 3px solid #e53e3e;
        margin: 15px 0;
        font-size: 0.95em;
      }
      
      .success-box {
        background: #f0fff4;
        padding: 15px;
        border-radius: 6px;
        border-left: 3px solid #38a169;
        margin: 15px 0;
        font-size: 0.95em;
      }
      
      .emoji-large {
        font-size: 1.2em;
        margin-right: 8px;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>ğŸš€ å¦‚ä½•ä¼˜åŒ–JavaScriptä¸­çš„å¾ªç¯å’Œæ¡ä»¶è¯­å¥</h1>

      <div class="meta-info">
        <p>
          ğŸ“… å‘å¸ƒäº 2026å¹´1æœˆ | ğŸ‘¤ ä½œè€…ï¼šåšä¸» | ğŸ·ï¸ æ ‡ç­¾ï¼šJavaScriptä¼˜åŒ–, å¾ªç¯ä¼˜åŒ–, æ¡ä»¶è¯­å¥, æ€§èƒ½ä¼˜åŒ–, Webå¼€å‘, å‰ç«¯, é¢è¯•
        </p>
      </div>

      <p>æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢æ–‡ç« ï¼æ‰€æœ‰æ–‡ç« éƒ½æ˜¯æ»¡æ»¡çš„å‰ç«¯å¹²è´§ï¼Œæ–‡ç« ç®€æ˜æ‰¼è¦ã€‚</p>

      <h2>ğŸ”„ ä¸€ã€å¾ªç¯ä¼˜åŒ–ç­–ç•¥</h2>

      <h3>1. é¿å…åœ¨å¾ªç¯æ¡ä»¶ä¸­é‡å¤è®¡ç®—</h3>
      <div class="code-block">
<span class="code-bad">// âŒ åä¾‹ï¼ˆæ¯æ¬¡è¿­ä»£éƒ½é‡æ–°è®¡ç®— .lengthï¼‰</span><br>
for (let i = 0; i &lt; arr.length; i++) {`{`} /* ... */ {`}`}<br><br>

<span class="code-good">// âœ… ä¼˜åŒ–ï¼ˆç¼“å­˜é•¿åº¦ï¼‰</span><br>
for (let i = 0, len = arr.length; i &lt; len; i++) {`{`} /* ... */ {`}`}<br><br>

<span class="code-good">// æˆ– for...ofï¼ˆæ›´ç°ä»£ã€ç®€æ´ï¼Œä¸”å¯¹ Array/TypedArray/Map/Set ä¼˜åŒ–è‰¯å¥½ï¼‰</span><br>
for (const item of arr) {`{`} /* ... */ {`}`}
      </div>

      <h3>2. ä¼˜å…ˆä½¿ç”¨ for...of æˆ– forEachï¼Œæ…ç”¨ for...in</h3>
      <div class="feature-list">
        <h4>ğŸŒŸ æ¨èå¾ªç¯æ–¹å¼ï¼š</h4>
        <ul>
          <li><strong>for...of</strong>ï¼šéå†æ•°ç»„ã€Setã€Map ç­‰å¯è¿­ä»£å¯¹è±¡</li>
          <li><strong>forEach</strong>ï¼šå‡½æ•°å¼ç¼–ç¨‹é£æ ¼ï¼Œä»£ç ç®€æ´</li>
          <li><strong>for...in</strong>ï¼šä»…ç”¨äºéå†å¯¹è±¡å±æ€§ï¼Œé¿å…ç”¨äºæ•°ç»„</li>
        </ul>
      </div>

      <h3>3. é¿å…åœ¨å¾ªç¯å†…åˆ›å»ºå‡½æ•°æˆ–å¯¹è±¡</h3>
      <div class="success-box">
        <strong>âœ… æœ€ä½³å®è·µï¼š</strong>äº‹ä»¶å§”æ‰˜ + datasetï¼ˆé¿å…å¤§é‡é—­åŒ…ï¼‰
      </div>

      <h3>4. å¤§æ•°æ®é‡ï¼šè€ƒè™‘åˆ†ç‰‡ï¼ˆChunkingï¼‰æˆ– Web Worker</h3>
      <p>è‹¥éœ€å¤„ç† >10k æ¡æ•°æ®ï¼ŒåŒæ­¥å¾ªç¯ä¼šé˜»å¡ä¸»çº¿ç¨‹ â†’ é¡µé¢å¡é¡¿ã€‚</p>

      <div class="section-header">
        <h4>ğŸ“‹ åˆ†ç‰‡åŸç†</h4>
        <p>æŠŠ 10,000 æ¬¡å¾ªç¯æ‹†æˆ 10 ç‰‡ï¼Œæ¯ç‰‡ 1,000 æ¬¡ã€‚æ¯æ‰§è¡Œå®Œ 1,000 æ¬¡ï¼Œå°±ç”¨ setTimeout(..., 0) æŠŠä¸‹ä¸€ç‰‡ã€Œæ’é˜Ÿã€åˆ°ä»»åŠ¡é˜Ÿåˆ—æœ«å°¾ï¼Œè®©å‡ºä¸»çº¿ç¨‹æ§åˆ¶æƒ â†’ æµè§ˆå™¨è¶æœºæ¸²æŸ“/å“åº”ç”¨æˆ·äº‹ä»¶ã€‚</p>
      </div>

      <h4>âœ… æ–¹æ¡ˆï¼šsetTimeout åˆ†ç‰‡</h4>
      <div class="code-block">
function processChunk(items, chunkSize = 1000) {`{`}<br>
&nbsp;&nbsp;let i = 0;<br><br>
&nbsp;&nbsp;function doChunk() {`{`}<br>
&nbsp;&nbsp;&nbsp;&nbsp;const end = Math.min(i + chunkSize, items.length);<br><br>
&nbsp;&nbsp;&nbsp;&nbsp;for (; i &lt; end; i++) {`{`}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="code-comment">// è¿™é‡Œæ˜¯å®é™…å¤„ç†é€»è¾‘ï¼ˆæ¯”å¦‚ç”Ÿæˆ DOMã€è®¡ç®—ç­‰ï¼‰</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// process items[i]<br>
&nbsp;&nbsp;&nbsp;&nbsp;{`}`}<br><br>
&nbsp;&nbsp;&nbsp;&nbsp;if (i &lt; items.length) setTimeout(doChunk, 0);<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="code-comment">// æ³¨æ„ï¼šä¸æ˜¯ç«‹å³æ‰§è¡Œï¼Œæ˜¯ã€Œå°½å¿«ä½†ä¸é˜»å¡ã€</span><br>
&nbsp;&nbsp;{`}`}<br><br>
&nbsp;&nbsp;doChunk();<br>
{`}`}
      </div>

      <div class="highlight-box">
        <strong>ğŸ”§ è¿›é˜¶æ–¹æ¡ˆï¼š</strong>
        <ul>
          <li><strong>requestIdleCallback</strong>ï¼šç©ºé—²æ—¶æ‰§è¡Œ</li>
          <li><strong>Web Worker</strong>ï¼šå½»åº•ç§»å‡ºä¸»çº¿ç¨‹ï¼Œé€‚åˆè®¡ç®—å¯†é›†å‹</li>
        </ul>
      </div>

      <h2>ğŸ§  äºŒã€æ¡ä»¶è¯­å¥ä¼˜åŒ–</h2>

      <h3>1. æ¡ä»¶é¡ºåºï¼šé«˜é¢‘åˆ†æ”¯å‰ç½®</h3>
      <p>JavaScript å¼•æ“ï¼ˆå¦‚ V8ï¼‰ä¼šå¯¹æ¡ä»¶åˆ†æ”¯åšé¢„æµ‹ä¼˜åŒ–ï¼Œé«˜é¢‘è·¯å¾„æ”¾å‰é¢å¯å‡å°‘è·³è½¬å¼€é”€ï¼š</p>

      <div class="code-block">
<span class="code-comment">// å‡è®¾ type ä¸º 'A' çš„æ¦‚ç‡ >90%</span><br>
if (type === 'A') {`{`}<br>
&nbsp;&nbsp;// ...<br>
{`}`} else if (type === 'B') {`{`}<br>
&nbsp;&nbsp;// ...<br>
{`}`} else {`{`}<br>
&nbsp;&nbsp;// rare case<br>
{`}`}
      </div>

      <h3>2. å¤šåˆ†æ”¯ â†’ ç”¨ Map æˆ– Object æŸ¥è¡¨ä»£æ›¿ if-else/switch</h3>

      <table class="comparison-table">
        <thead>
          <tr>
            <th>æ–¹æ¡ˆ</th>
            <th>é€‚ç”¨åœºæ™¯</th>
            <th>ç‰¹ç‚¹</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><strong>å¯¹è±¡å­—é¢é‡</strong></td>
            <td>key æ˜¯å›ºå®šå­—ç¬¦ä¸²</td>
            <td>V8 ä¼˜åŒ–æœ€å¥½ï¼Œç®€æ´é«˜æ•ˆ</td>
          </tr>
          <tr>
            <td><strong>Map</strong></td>
            <td>éœ€è¦åŠ¨æ€å¢åˆ æˆ– key éå­—ç¬¦ä¸²</td>
            <td>æ”¯æŒä»»æ„ç±»å‹ keyï¼Œä¸å½±å“åŸå‹é“¾</td>
          </tr>
        </tbody>
      </table>

      <h4>æ–¹æ¡ˆä¸€ï¼šå¯¹è±¡æŸ¥è¡¨æ³•ï¼ˆObject Literalï¼‰</h4>
      <div class="code-block">
<span class="code-good">// âœ… æ¨èï¼šå½“ key æ˜¯ã€Œå›ºå®šå­—ç¬¦ä¸²ã€æ—¶ï¼Œç”¨çº¯å¯¹è±¡æœ€ç®€æ´é«˜æ•ˆ</span><br>
const operations = {`{`}<br>
&nbsp;&nbsp;add: (a, b) => a + b,<br>
&nbsp;&nbsp;sub: (a, b) => a - b,<br>
&nbsp;&nbsp;mul: (a, b) => a * b,<br>
&nbsp;&nbsp;div: (a, b) => b !== 0 ? a / b : NaN,<br>
&nbsp;&nbsp;mod: (a, b) => a % b,<br>
&nbsp;&nbsp;pow: (a, b) => Math.pow(a, b),<br>
{`}`};<br><br>

function calculate(op, a, b) {`{`}<br>
&nbsp;&nbsp;const fn = operations[op];<br>
&nbsp;&nbsp;if (!fn) throw new Error(`Unknown operator: ${`{`}op{`}`}`);<br>
&nbsp;&nbsp;return fn(a, b);<br>
{`}`}
      </div>

      <h4>æ–¹æ¡ˆäºŒï¼šMap æŸ¥è¡¨æ³•</h4>
      <div class="code-block">
<span class="code-good">// âœ… æ¨èï¼šå½“éœ€è¦ã€ŒåŠ¨æ€å¢åˆ ã€æˆ–ã€Œkey éå­—ç¬¦ä¸²ã€æ—¶</span><br>
const operations = new Map([<br>
&nbsp;&nbsp;['add', (a, b) => a + b],<br>
&nbsp;&nbsp;['sub', (a, b) => a - b],<br>
&nbsp;&nbsp;<span class="code-comment">// ... å…¶ä»–æ“ä½œ</span><br>
]);<br><br>

<span class="code-comment">// åŠ¨æ€æ³¨å†Œæ–°æ“ä½œï¼ˆæ’ä»¶ç³»ç»Ÿå¸¸ç”¨ï¼ï¼‰</span><br>
operations.set('sqrt', (a) => Math.sqrt(a));<br>
operations.set(1001, specialHandler); <span class="code-comment">// key å¯ä»¥æ˜¯ numberï¼</span><br><br>

function calculate(op, ...args) {`{`}<br>
&nbsp;&nbsp;const fn = operations.get(op);<br>
&nbsp;&nbsp;if (!fn) throw new Error(`Unknown operator: ${`{`}op{`}`}`);<br>
&nbsp;&nbsp;return fn(...args);<br>
{`}`}
      </div>

      <h3>3. é¿å…æ·±å±‚åµŒå¥— â†’ æå‰ return</h3>
      <div class="code-block">
<span class="code-bad">// âŒ æ·±å±‚åµŒå¥—</span><br>
function processUser(user) {`{`}<br>
&nbsp;&nbsp;if (user) {`{`}<br>
&nbsp;&nbsp;&nbsp;&nbsp;if (user.isActive) {`{`}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (user.hasPermission) {`{`}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// å¤„ç†é€»è¾‘<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{`}`}<br>
&nbsp;&nbsp;&nbsp;&nbsp;{`}`}<br>
&nbsp;&nbsp;{`}`}<br>
{`}`}<br><br>

<span class="code-good">// âœ… æå‰ return</span><br>
function processUser(user) {`{`}<br>
&nbsp;&nbsp;if (!user) return;<br>
&nbsp;&nbsp;if (!user.isActive) return;<br>
&nbsp;&nbsp;if (!user.hasPermission) return;<br><br>
&nbsp;&nbsp;<span class="code-comment">// å¤„ç†é€»è¾‘</span><br>
{`}`}
      </div>

      <div class="highlight-box">
        <strong>ğŸ¯ æ ¸å¿ƒä¼˜åŒ–åŸåˆ™ï¼š</strong>
        <br><br>
        <ul>
          <li><strong>å‡å°‘é‡å¤è®¡ç®—</strong>ï¼šç¼“å­˜å¾ªç¯æ¡ä»¶å’Œå¤æ‚è¡¨è¾¾å¼</li>
          <li><strong>é€‰æ‹©åˆé€‚çš„å¾ªç¯</strong>ï¼šfor...of > forEach > for > for...in</li>
          <li><strong>å¤§æ•°æ®åˆ†ç‰‡å¤„ç†</strong>ï¼šé¿å…é˜»å¡ä¸»çº¿ç¨‹</li>
          <li><strong>é«˜é¢‘åˆ†æ”¯å‰ç½®</strong>ï¼šåˆ©ç”¨åˆ†æ”¯é¢„æµ‹ä¼˜åŒ–</li>
          <li><strong>æŸ¥è¡¨æ›¿ä»£å¤šåˆ†æ”¯</strong>ï¼šObject/Map æ¯” if-else æ›´é«˜æ•ˆ</li>
          <li><strong>æ‰å¹³åŒ–ä»£ç ç»“æ„</strong>ï¼šæå‰ return å‡å°‘åµŒå¥—</li>
        </ul>
      </div>

      <div style="text-align: center;">
        <a href={`${import.meta.env.BASE_URL}`} class="back-link">â† è¿”å›é¦–é¡µ</a>
      </div>
    </div>
  </body>
</html>