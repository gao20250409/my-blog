---
// TypeScript ambientç±»å‹æ–‡ç« é¡µé¢
---

<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TypeScriptä¸­çš„ambientç±»å‹æ˜¯ä»€ä¹ˆï¼Ÿ</title>
    
    <style>
      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        max-width: 900px;
        margin: 0 auto;
        padding: 20px;
        line-height: 1.6;
        background: #f8f9fa;
        color: #333;
      }
      .container {
        background: white;
        padding: 40px;
        border-radius: 10px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }
      h1 {
        color: #2c3e50;
        text-align: center;
        font-size: 2.5em;
        margin-bottom: 30px;
      }
      h2 {
        color: #34495e;
        border-bottom: 2px solid #3498db;
        padding-bottom: 10px;
        margin-top: 30px;
      }
      h3 {
        color: #2c3e50;
        margin-top: 25px;
      }
      .back-link {
        display: inline-block;
        background: #3498db;
        color: white;
        padding: 12px 24px;
        text-decoration: none;
        border-radius: 6px;
        margin-top: 30px;
        transition: background 0.3s ease;
      }
      .back-link:hover {
        background: #2980b9;
      }
      .meta-info {
        text-align: center;
        color: #7f8c8d;
        margin-bottom: 30px;
        padding: 15px;
        background: #ecf0f1;
        border-radius: 8px;
      }
      .highlight-box {
        background: #fff3cd;
        padding: 20px;
        border-radius: 8px;
        border-left: 3px solid #f39c12;
        margin: 20px 0;
      }
      .code-block {
        background: #2d3748;
        color: #e2e8f0;
        border-radius: 8px;
        padding: 20px;
        margin: 15px 0;
        font-family: 'Courier New', monospace;
        font-size: 0.9em;
        overflow-x: auto;
        border-left: 4px solid #4299e1;
      }
      .code-comment {
        color: #68d391;
      }
      .feature-list {
        background: #e8f5e8;
        padding: 20px;
        border-radius: 8px;
        border-left: 4px solid #27ae60;
        margin: 20px 0;
      }
      .section-box {
        background: #f0f8ff;
        padding: 20px;
        border-radius: 8px;
        border-left: 4px solid #2196f3;
        margin: 20px 0;
      }
      .comparison-table {
        width: 100%;
        border-collapse: collapse;
        margin: 20px 0;
        background: white;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        font-size: 0.9em;
      }
      .comparison-table th,
      .comparison-table td {
        padding: 12px;
        text-align: left;
        border-bottom: 1px solid #e0e0e0;
        vertical-align: top;
      }
      .comparison-table th {
        background: #3498db;
        color: white;
        font-weight: 600;
        text-align: center;
      }
      .comparison-table tr:hover {
        background: #f8f9fa;
      }
      .comparison-table td:first-child {
        font-weight: 600;
        background: #f8f9fa;
        color: #2c3e50;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>ğŸš€ TypeScriptä¸­çš„ambientç±»å‹æ˜¯ä»€ä¹ˆï¼Ÿ</h1>

      <div class="meta-info">
        <p>ğŸ“… å‘å¸ƒäº 2026å¹´1æœˆ | ğŸ‘¤ ä½œè€…ï¼šåšä¸» | ğŸ·ï¸ æ ‡ç­¾ï¼šTypeScript, ambientç±»å‹, ç¯å¢ƒå£°æ˜, ç±»å‹å®šä¹‰, Webå¼€å‘, å‰ç«¯, é¢è¯•</p>
      </div>

      <p>æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢æ–‡ç« ï¼æ‰€æœ‰æ–‡ç« éƒ½æ˜¯æ»¡æ»¡çš„å‰ç«¯å¹²è´§ï¼Œæ–‡ç« ç®€æ˜æ‰¼è¦ã€‚</p>

      <h2>ä»€ä¹ˆæ˜¯ Ambient ç±»å‹ï¼Ÿ</h2>

      <div class="highlight-box">
        <p>åœ¨ TypeScript ä¸­ï¼Œ<strong>ambientï¼ˆç¯å¢ƒå£°æ˜ï¼‰</strong> æ˜¯æŒ‡ä»…æè¿°ç±»å‹ä¿¡æ¯ã€ä¸åŒ…å«å®é™…è¿è¡Œæ—¶å®ç°çš„å£°æ˜ã€‚</p>
        <p><strong>æ ¸å¿ƒä½œç”¨ï¼š</strong>å‘Šè¯‰ TypeScriptï¼š"è¿™ä¸ªä¸œè¥¿åœ¨è¿è¡Œæ—¶å·²ç»å­˜åœ¨ï¼ˆç”±å¤–éƒ¨æä¾›ï¼‰ï¼Œä½ åªéœ€åšç±»å‹æ£€æŸ¥ï¼Œæ— éœ€ç”Ÿæˆå¯¹åº”çš„ JS ä»£ç "ã€‚</p>
      </div>

      <h2>ğŸ“¦ å¸¸è§ä½¿ç”¨åœºæ™¯</h2>

      <h3>1. ä¸ºç¬¬ä¸‰æ–¹ JS åº“æ·»åŠ ç±»å‹</h3>

      <div class="code-block">
<span class="code-comment">// global.d.ts</span><br>
declare function $(selector: string): any; <span class="code-comment">// å‘Šè¯‰ TS jQuery çš„ $ å­˜åœ¨</span><br><br>

$('#app').show(); <span class="code-comment">// TS ä¸å†æŠ¥é”™</span><br><br>

<span class="code-comment">// å®é™…è¿è¡Œæ—¶ä»éœ€å¼•å…¥ jQuery.js</span>
      </div>

      <div class="section-box">
        <h4>è¯´æ˜</h4>
        <ul>
          <li><code>declare</code> å…³é”®å­—è¡¨ç¤ºè¿™æ˜¯ç¯å¢ƒå£°æ˜</li>
          <li>TypeScript åªåšç±»å‹æ£€æŸ¥ï¼Œä¸ä¼šç”Ÿæˆä»»ä½• JavaScript ä»£ç </li>
          <li>è¿è¡Œæ—¶éœ€è¦ç¡®ä¿ jQuery å·²ç»åŠ è½½</li>
        </ul>
      </div>

      <h3>2. å£°æ˜å…¨å±€å˜é‡/æ¨¡å—</h3>

      <div class="section-box">
        <h4>å£°æ˜ç¯å¢ƒå˜é‡</h4>
        <div class="code-block">
<span class="code-comment">// å£°æ˜ç¯å¢ƒå˜é‡</span><br>
declare const __VERSION__: string;<br><br>

console.log(__VERSION__); <span class="code-comment">// æ„å»ºå·¥å…·ï¼ˆå¦‚ Webpackï¼‰ä¼šåœ¨ç¼–è¯‘æ—¶æ³¨å…¥è¯¥å€¼</span>
        </div>
      </div>

      <div class="section-box">
        <h4>å£°æ˜æ— ç±»å‹å®šä¹‰çš„ npm åŒ…</h4>
        <div class="code-block">
<span class="code-comment">// å£°æ˜æ— ç±»å‹å®šä¹‰çš„ npm åŒ…</span><br>
declare module 'some-legacy-lib' {`{`}<br>
&nbsp;&nbsp;export function doSomething(): void;<br>
{`}`}
        </div>
      </div>

      <h2>ğŸ“ å£°æ˜æ–‡ä»¶ï¼ˆ.d.tsï¼‰</h2>

      <div class="highlight-box">
        <p>Ambient å£°æ˜é€šå¸¸æ”¾åœ¨ <code>.d.ts</code> æ–‡ä»¶ä¸­ï¼Œä¾‹å¦‚ï¼š</p>
      </div>

      <div class="code-block">
src/<br>
â”œâ”€â”€ index.ts<br>
â””â”€â”€ types/<br>
&nbsp;&nbsp;&nbsp;&nbsp;â””â”€â”€ global.d.ts&nbsp;&nbsp;&nbsp;â† å­˜æ”¾ declare å£°æ˜
      </div>

      <h2>å¸¸è§çš„ Ambient å£°æ˜ç±»å‹</h2>

      <h3>1. å£°æ˜å…¨å±€å‡½æ•°</h3>

      <div class="code-block">
<span class="code-comment">// global.d.ts</span><br>
declare function myGlobalFunction(param: string): void;<br><br>

<span class="code-comment">// ä½¿ç”¨</span><br>
myGlobalFunction('hello'); <span class="code-comment">// âœ… ç±»å‹æ£€æŸ¥é€šè¿‡</span>
      </div>

      <h3>2. å£°æ˜å…¨å±€å˜é‡</h3>

      <div class="code-block">
<span class="code-comment">// global.d.ts</span><br>
declare const API_URL: string;<br>
declare let isDebug: boolean;<br>
declare var globalConfig: {`{`} timeout: number {`}`};<br><br>

<span class="code-comment">// ä½¿ç”¨</span><br>
console.log(API_URL); <span class="code-comment">// âœ… ç±»å‹æ£€æŸ¥é€šè¿‡</span>
      </div>

      <h3>3. å£°æ˜å…¨å±€å‘½åç©ºé—´</h3>

      <div class="code-block">
<span class="code-comment">// global.d.ts</span><br>
declare namespace MyLib {`{`}<br>
&nbsp;&nbsp;function init(): void;<br>
&nbsp;&nbsp;const version: string;<br>
{`}`}<br><br>

<span class="code-comment">// ä½¿ç”¨</span><br>
MyLib.init();<br>
console.log(MyLib.version);
      </div>

      <h3>4. å£°æ˜å…¨å±€ç±»</h3>

      <div class="code-block">
<span class="code-comment">// global.d.ts</span><br>
declare class MyClass {`{`}<br>
&nbsp;&nbsp;constructor(name: string);<br>
&nbsp;&nbsp;getName(): string;<br>
{`}`}<br><br>

<span class="code-comment">// ä½¿ç”¨</span><br>
const instance = new MyClass('test');<br>
instance.getName();
      </div>

      <h3>5. å£°æ˜æ¨¡å—</h3>

      <div class="code-block">
<span class="code-comment">// types/modules.d.ts</span><br>
declare module '*.css' {`{`}<br>
&nbsp;&nbsp;const content: {`{`} [className: string]: string {`}`};<br>
&nbsp;&nbsp;export default content;<br>
{`}`}<br><br>

declare module '*.png' {`{`}<br>
&nbsp;&nbsp;const value: string;<br>
&nbsp;&nbsp;export default value;<br>
{`}`}<br><br>

<span class="code-comment">// ä½¿ç”¨</span><br>
import styles from './App.module.css'; <span class="code-comment">// âœ… ä¸å†æŠ¥é”™</span><br>
import logo from './logo.png'; <span class="code-comment">// âœ… ä¸å†æŠ¥é”™</span>
      </div>

      <h2>å®æˆ˜ç¤ºä¾‹</h2>

      <h3>ç¤ºä¾‹ 1ï¼šä¸º jQuery æ·»åŠ ç±»å‹å£°æ˜</h3>

      <div class="code-block">
<span class="code-comment">// types/jquery.d.ts</span><br>
interface JQuery {`{`}<br>
&nbsp;&nbsp;show(): JQuery;<br>
&nbsp;&nbsp;hide(): JQuery;<br>
&nbsp;&nbsp;text(content?: string): JQuery | string;<br>
{`}`}<br><br>

declare function $(selector: string): JQuery;<br><br>

<span class="code-comment">// ä½¿ç”¨</span><br>
$('#app').show().text('Hello World');
      </div>

      <h3>ç¤ºä¾‹ 2ï¼šå£°æ˜ Webpack ç¯å¢ƒå˜é‡</h3>

      <div class="code-block">
<span class="code-comment">// types/env.d.ts</span><br>
declare const process: {`{`}<br>
&nbsp;&nbsp;env: {`{`}<br>
&nbsp;&nbsp;&nbsp;&nbsp;NODE_ENV: 'development' | 'production';<br>
&nbsp;&nbsp;&nbsp;&nbsp;API_URL: string;<br>
&nbsp;&nbsp;{`}`};<br>
{`}`};<br><br>

<span class="code-comment">// ä½¿ç”¨</span><br>
if (process.env.NODE_ENV === 'development') {`{`}<br>
&nbsp;&nbsp;console.log('å¼€å‘æ¨¡å¼');<br>
{`}`}
      </div>

      <h3>ç¤ºä¾‹ 3ï¼šæ‰©å±•å…¨å±€ Window å¯¹è±¡</h3>

      <div class="code-block">
<span class="code-comment">// types/window.d.ts</span><br>
interface Window {`{`}<br>
&nbsp;&nbsp;myCustomProperty: string;<br>
&nbsp;&nbsp;myCustomMethod(): void;<br>
{`}`}<br><br>

<span class="code-comment">// ä½¿ç”¨</span><br>
window.myCustomProperty = 'test';<br>
window.myCustomMethod();
      </div>

      <h3>ç¤ºä¾‹ 4ï¼šå£°æ˜ç¬¬ä¸‰æ–¹åº“æ¨¡å—</h3>

      <div class="code-block">
<span class="code-comment">// types/legacy-lib.d.ts</span><br>
declare module 'legacy-lib' {`{`}<br>
&nbsp;&nbsp;export interface Config {`{`}<br>
&nbsp;&nbsp;&nbsp;&nbsp;timeout: number;<br>
&nbsp;&nbsp;&nbsp;&nbsp;retries: number;<br>
&nbsp;&nbsp;{`}`}<br><br>

&nbsp;&nbsp;export function init(config: Config): void;<br>
&nbsp;&nbsp;export function request(url: string): Promise&lt;any&gt;;<br>
{`}`}<br><br>

<span class="code-comment">// ä½¿ç”¨</span><br>
import {`{`} init, request {`}`} from 'legacy-lib';<br><br>

init({`{`} timeout: 5000, retries: 3 {`}`});<br>
request('/api/data');
      </div>

      <h2>Ambient å£°æ˜ vs æ™®é€šå£°æ˜</h2>

      <table class="comparison-table">
        <thead>
          <tr>
            <th>ç‰¹æ€§</th>
            <th>Ambient å£°æ˜ï¼ˆdeclareï¼‰</th>
            <th>æ™®é€šå£°æ˜</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>å…³é”®å­—</td>
            <td>declare</td>
            <td>æ—  declare</td>
          </tr>
          <tr>
            <td>ç”Ÿæˆ JS ä»£ç </td>
            <td>âŒ ä¸ç”Ÿæˆ</td>
            <td>âœ… ç”Ÿæˆ</td>
          </tr>
          <tr>
            <td>åŒ…å«å®ç°</td>
            <td>âŒ ä»…ç±»å‹</td>
            <td>âœ… åŒ…å«å®ç°</td>
          </tr>
          <tr>
            <td>æ–‡ä»¶ç±»å‹</td>
            <td>é€šå¸¸åœ¨ .d.ts æ–‡ä»¶</td>
            <td>.ts æˆ– .tsx æ–‡ä»¶</td>
          </tr>
          <tr>
            <td>ç”¨é€”</td>
            <td>æè¿°å¤–éƒ¨å·²å­˜åœ¨çš„ä»£ç </td>
            <td>å®šä¹‰å’Œå®ç°æ–°ä»£ç </td>
          </tr>
        </tbody>
      </table>

      <h2>é…ç½® tsconfig.json</h2>

      <div class="code-block">
{`{`}<br>
&nbsp;&nbsp;"compilerOptions": {`{`}<br>
&nbsp;&nbsp;&nbsp;&nbsp;"typeRoots": ["./node_modules/@types", "./types"],<br>
&nbsp;&nbsp;&nbsp;&nbsp;"types": ["node", "jest"]<br>
&nbsp;&nbsp;{`}`},<br>
&nbsp;&nbsp;"include": ["src/**/*", "types/**/*"]<br>
{`}`}
      </div>

      <div class="section-box">
        <h4>é…ç½®è¯´æ˜</h4>
        <ul>
          <li><code>typeRoots</code>ï¼šæŒ‡å®šç±»å‹å£°æ˜æ–‡ä»¶çš„æŸ¥æ‰¾ç›®å½•</li>
          <li><code>types</code>ï¼šæŒ‡å®šè¦åŒ…å«çš„ç±»å‹åŒ…</li>
          <li><code>include</code>ï¼šåŒ…å« types ç›®å½•ä¸­çš„ .d.ts æ–‡ä»¶</li>
        </ul>
      </div>

      <h2>æœ€ä½³å®è·µ</h2>

      <div class="feature-list">
        <h4>âœ… æ¨èåšæ³•</h4>
        <ul>
          <li>å°† ambient å£°æ˜æ”¾åœ¨ <code>types/</code> æˆ– <code>@types/</code> ç›®å½•</li>
          <li>ä½¿ç”¨ <code>.d.ts</code> æ–‡ä»¶æ‰©å±•å</li>
          <li>ä¸ºç¬¬ä¸‰æ–¹åº“ä¼˜å…ˆä½¿ç”¨ <code>@types/xxx</code> åŒ…</li>
          <li>è‡ªå®šä¹‰å£°æ˜æ–‡ä»¶å‘½åæ¸…æ™°ï¼ˆå¦‚ <code>global.d.ts</code>ã€<code>window.d.ts</code>ï¼‰</li>
          <li>é¿å…åœ¨ <code>.d.ts</code> æ–‡ä»¶ä¸­ä½¿ç”¨ <code>import/export</code>ï¼ˆé™¤éå£°æ˜æ¨¡å—ï¼‰</li>
        </ul>
      </div>

      <h2>æ ¸å¿ƒè¦ç‚¹æ€»ç»“</h2>

      <div class="highlight-box">
        <h4>ğŸ’¡ å…³é”®çŸ¥è¯†ç‚¹</h4>
        <ul>
          <li><strong>Ambient å£°æ˜ï¼š</strong>ä½¿ç”¨ <code>declare</code> å…³é”®å­—ï¼Œä»…æè¿°ç±»å‹ï¼Œä¸ç”Ÿæˆ JS ä»£ç </li>
          <li><strong>ä¸»è¦ç”¨é€”ï¼š</strong>ä¸ºå¤–éƒ¨ JS åº“ã€å…¨å±€å˜é‡ã€ç¯å¢ƒå˜é‡æ·»åŠ ç±»å‹</li>
          <li><strong>æ–‡ä»¶ä½ç½®ï¼š</strong>é€šå¸¸æ”¾åœ¨ <code>.d.ts</code> æ–‡ä»¶ä¸­</li>
          <li><strong>å£°æ˜ç±»å‹ï¼š</strong>å‡½æ•°ã€å˜é‡ã€ç±»ã€å‘½åç©ºé—´ã€æ¨¡å—</li>
          <li><strong>é…ç½®è¦æ±‚ï¼š</strong>åœ¨ <code>tsconfig.json</code> ä¸­æ­£ç¡®é…ç½® <code>typeRoots</code> å’Œ <code>include</code></li>
        </ul>
      </div>

      <div style="text-align: center;">
        <a href={`${import.meta.env.BASE_URL}`} class="back-link">â† è¿”å›é¦–é¡µ</a>
      </div>
    </div>
  </body>
</html>
