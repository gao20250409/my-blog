---
// é¦–é¡µ - åŒ…å«æ–‡ç« åˆ—è¡¨ (é‡æ–°éƒ¨ç½²)
const posts = [
  {
    title: "0.1 + 0.2ã€0.1 * 0.2åˆ†åˆ«ç­‰äºå¤šå°‘ï¼Ÿè§£é‡ŠåŸå› ",
    description:
      "è®¡ç®—æœºç”¨äºŒè¿›åˆ¶è¡¨ç¤ºå°æ•°ï¼Œè€Œ 0.1ã€0.2 åœ¨äºŒè¿›åˆ¶ä¸­æ˜¯ã€Œæ— é™å¾ªç¯å°æ•°ã€ï¼Œå¿…é¡»èˆå…¥ â†’ ç´¯ç§¯è¯¯å·®",
    url: "./posts/float-precision",
    date: "2025-12-18",
    tags: ["æµ®ç‚¹æ•°ç²¾åº¦", "Webå¼€å‘", "å‰ç«¯", "é¢è¯•"],
  },
  {
    title: "CSSçš„ä¼˜å…ˆçº§æ˜¯å¦‚ä½•è®¡ç®—çš„",
    description:
      "!important > å†…è”æ ·å¼ï¼ˆ1000ï¼‰ > id é€‰æ‹©å™¨ï¼ˆ100ï¼‰ > class é€‰æ‹©å™¨ï¼ˆ10ï¼‰ > tagï¼ˆ1ï¼‰ > *",
    url: "./posts/css-priority",
    date: "2025-12-18",
    tags: ["css", "Webå¼€å‘", "å‰ç«¯", "é¢è¯•"],
  },
  {
    title: "æµ…è¯´newæ“ä½œç¬¦çš„ç†è§£,æ‰‹å†™ä¸€ä¸ªnewæ–¹æ³•",
    description:
      "ä¸€å¥è¯æ ¸å¿ƒï¼š new å°±æ˜¯ã€Œé€ ä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶è®©æ„é€ å‡½æ•°ä¸ºå®ƒæ‰“å·¥ã€çš„è¿‡ç¨‹",
    url: "./posts/new",
    date: "2025-12-18",
    tags: ["new", "Webå¼€å‘", "å‰ç«¯", "é¢è¯•"],
  },
  {
    title: "csså¸¸ç”¨çš„å¸ƒå±€æ–¹å¼æœ‰å“ªäº›",
    description:
      "Flexboxï¼ˆå¼¹æ€§ç›’å­ï¼‰ï¼ŒGridï¼ˆç½‘æ ¼å¸ƒå±€ï¼‰ï¼Œ Positioningï¼ˆå®šä½å¸ƒå±€ï¼‰ï¼ŒFloat + Clearï¼ˆæµ®åŠ¨å¸ƒå±€ï¼‰ï¼Œ Multi-column Layoutï¼ˆå¤šæ å¸ƒå±€ï¼‰ â€”â€” æŠ¥çº¸å¼å¸ƒå±€",
    url: "./posts/css-layout",
    date: "2025-12-17",
    tags: ["css", "Webå¼€å‘", "å‰ç«¯", "é¢è¯•"],
  },
  {
    title: "BFCè§„èŒƒçš„ç†è§£",
    description:
      " BFCå°±ç›¸å½“äºä¸€ä¸ªç›’å­ï¼Œå†…éƒ¨çš„å…ƒç´ ä¸å¤–ç•Œçš„å…ƒç´ äº’ä¸å¹²æ‰°ã€‚å®ƒä¸ä¼šå½±å“å¤–éƒ¨çš„å¸ƒå±€ï¼Œå¤–éƒ¨çš„å¸ƒå±€ä¹Ÿä¸ä¼šå½±å“åˆ°å®ƒã€‚",
    url: "./posts/bfc",
    date: "2025-12-17",
    tags: ["BFC", "Webå¼€å‘", "å‰ç«¯", "é¢è¯•"],
  },
  {
    title: '"attribute"å’Œ"property"æœ‰ä»€ä¹ˆä¸åŒ',
    description: " property å±äº DOM Objectï¼Œatrribute å±äº HTMLã€‚",
    url: "./posts/attribute-property",
    date: "2025-12-16",
    tags: ["attribute", "property", "Webå¼€å‘", "å‰ç«¯", "é¢è¯•"],
  },
  {
    title: "::beforeå’Œ:afterä¸­å•å†’å·å’ŒåŒå†’å·çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ",
    description: "::è¡¨ç¤ºä¼ªå…ƒç´ ï¼Œ :è¡¨ç¤ºä¼ªç±»ï¼Œæ˜¯ä¸€ç§æ ·å¼",
    url: "./posts/before-after",
    date: "2025-12-16",
    tags: ["::before", ":after", "Webå¼€å‘", "å‰ç«¯", "é¢è¯•"],
  },
];
---

<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>å‰ç«¯å¼€å‘</title>
    <style>
      body {
        font-family:
          -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        max-width: 800px;
        margin: 0 auto;
        padding: 20px;
        line-height: 1.6;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        color: white;
      }
      .container {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(10px);
        padding: 40px;
        border-radius: 20px;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.2);
      }
      h1 {
        text-align: center;
        font-size: 2.5em;
        margin-bottom: 20px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
      }
      .success {
        background: rgba(40, 167, 69, 0.2);
        padding: 20px;
        border-radius: 10px;
        border-left: 4px solid #28a745;
        margin: 20px 0;
      }
      .nav-links {
        display: flex;
        gap: 15px;
        justify-content: center;
        margin: 30px 0;
      }
      .nav-links a {
        color: white;
        text-decoration: none;
        padding: 10px 20px;
        background: rgba(255, 255, 255, 0.2);
        border-radius: 25px;
        transition: all 0.3s ease;
      }
      .nav-links a:hover {
        background: rgba(255, 255, 255, 0.3);
        transform: translateY(-2px);
      }
      .feature-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
        margin: 30px 0;
      }
      .feature-card {
        background: rgba(255, 255, 255, 0.1);
        padding: 20px;
        border-radius: 15px;
        text-align: center;
      }
      .emoji {
        font-size: 2em;
        margin-bottom: 10px;
      }
      
      /* æœç´¢åŠŸèƒ½æ ·å¼ */
      .search-container {
        margin: 30px 0;
        text-align: center;
      }
      
      .search-box {
        width: 100%;
        max-width: 500px;
        padding: 12px 20px;
        font-size: 16px;
        border: 2px solid rgba(255, 255, 255, 0.3);
        border-radius: 25px;
        outline: none;
        transition: all 0.3s ease;
        background: rgba(255, 255, 255, 0.1);
        color: white;
        backdrop-filter: blur(10px);
      }
      
      .search-box::placeholder {
        color: rgba(255, 255, 255, 0.7);
      }
      
      .search-box:focus {
        border-color: rgba(255, 255, 255, 0.6);
        box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.1);
        background: rgba(255, 255, 255, 0.15);
      }
      
      .search-stats {
        margin-top: 15px;
        color: rgba(255, 255, 255, 0.8);
        font-size: 14px;
      }
      
      .no-results {
        text-align: center;
        padding: 40px 20px;
        color: rgba(255, 255, 255, 0.7);
      }
      
      .no-results h3 {
        margin-bottom: 10px;
        font-size: 1.2em;
      }
      
      .highlight {
        background: rgba(255, 255, 255, 0.3);
        padding: 1px 3px;
        border-radius: 2px;
        color: #fff;
        font-weight: bold;
      }
      .posts-section {
        margin: 40px 0;
      }
      .posts-section h2 {
        text-align: center;
        margin-bottom: 30px;
        font-size: 2em;
      }
      .post-card {
        background: rgba(255, 255, 255, 0.1);
        padding: 25px;
        border-radius: 15px;
        margin-bottom: 20px;
        border: 1px solid rgba(255, 255, 255, 0.2);
        transition: all 0.3s ease;
      }
      .post-card:hover {
        background: rgba(255, 255, 255, 0.15);
        transform: translateY(-2px);
      }
      .post-title {
        font-size: 1.5em;
        margin-bottom: 10px;
        color: #fff;
      }
      .post-title a {
        color: inherit;
        text-decoration: none;
      }
      .post-title a:hover {
        text-decoration: underline;
      }
      .post-meta {
        font-size: 0.9em;
        opacity: 0.8;
        margin-bottom: 15px;
      }
      .post-description {
        margin-bottom: 15px;
        line-height: 1.6;
      }
      .post-tags {
        display: flex;
        gap: 8px;
        flex-wrap: wrap;
      }
      .tag {
        background: rgba(255, 255, 255, 0.2);
        padding: 4px 12px;
        border-radius: 20px;
        font-size: 0.8em;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>å‰ç«¯å¼€å‘</h1>
      <div class="nav-links">
        <a href="#">æœ€æ–°æ–‡ç« </a>
        <a href={`${import.meta.env.BASE_URL}about`}>å…³äºé¡µé¢</a>
        <a href="https://github.com/gao20250409/my-blog">GitHub æºç </a>
      </div>

      <!-- æœç´¢åŠŸèƒ½ -->
      <div class="search-container">
        <input 
          type="text" 
          id="searchInput" 
          class="search-box" 
          placeholder="ğŸ” æœç´¢æ–‡ç« æ ‡é¢˜ã€æè¿°æˆ–æ ‡ç­¾..."
          autocomplete="off"
        >
        <div id="searchStats" class="search-stats"></div>
      </div>

      <!-- æ–‡ç« åˆ—è¡¨ -->
      <div class="posts-section">
        <h2>ğŸ“ æœ€æ–°æ–‡ç« </h2>
        <div id="noResults" class="no-results" style="display: none;">
          <h3>ğŸ˜” æ²¡æœ‰æ‰¾åˆ°ç›¸å…³æ–‡ç« </h3>
          <p>è¯•è¯•å…¶ä»–å…³é”®è¯ï¼Œæˆ–è€…æµè§ˆæ‰€æœ‰æ–‡ç« </p>
        </div>
        {
          posts.map((post) => (
            <article class="post-card">
              <h3 class="post-title">
                <a href={post.url}>{post.title}</a>
              </h3>
              <div class="post-meta">ğŸ“… å‘å¸ƒäº {post.date}</div>
              <p class="post-description">{post.description}</p>
              <div class="post-tags">
                {post.tags.map((tag) => (
                  <span class="tag">{tag}</span>
                ))}
              </div>
            </article>
          ))
        }
      </div>
    </div>

    <script>
      // æœç´¢åŠŸèƒ½å®ç°
      const searchInput = document.getElementById('searchInput') as HTMLInputElement;
      const searchStats = document.getElementById('searchStats') as HTMLElement;
      const noResults = document.getElementById('noResults') as HTMLElement;
      const postCards = document.querySelectorAll('.post-card');
      
      // æ–‡ç« æ•°æ®ç±»å‹å®šä¹‰
      interface PostData {
        title: string;
        description: string;
        tags: string[];
        element: HTMLElement | null;
      }
      
      // æ–‡ç« æ•°æ®
      const posts: PostData[] = [
        {
          title: "0.1 + 0.2ã€0.1 * 0.2åˆ†åˆ«ç­‰äºå¤šå°‘ï¼Ÿè§£é‡ŠåŸå› ",
          description: "è®¡ç®—æœºç”¨äºŒè¿›åˆ¶è¡¨ç¤ºå°æ•°ï¼Œè€Œ 0.1ã€0.2 åœ¨äºŒè¿›åˆ¶ä¸­æ˜¯ã€Œæ— é™å¾ªç¯å°æ•°ã€ï¼Œå¿…é¡»èˆå…¥ â†’ ç´¯ç§¯è¯¯å·®",
          tags: ["æµ®ç‚¹æ•°ç²¾åº¦", "Webå¼€å‘", "å‰ç«¯", "é¢è¯•"],
          element: null
        },
        {
          title: "CSSçš„ä¼˜å…ˆçº§æ˜¯å¦‚ä½•è®¡ç®—çš„",
          description: "!important > å†…è”æ ·å¼ï¼ˆ1000ï¼‰ > id é€‰æ‹©å™¨ï¼ˆ100ï¼‰ > class é€‰æ‹©å™¨ï¼ˆ10ï¼‰ > tagï¼ˆ1ï¼‰ > *",
          tags: ["css", "Webå¼€å‘", "å‰ç«¯", "é¢è¯•"],
          element: null
        },
        {
          title: "æµ…è¯´newæ“ä½œç¬¦çš„ç†è§£,æ‰‹å†™ä¸€ä¸ªnewæ–¹æ³•",
          description: "ä¸€å¥è¯æ ¸å¿ƒï¼š new å°±æ˜¯ã€Œé€ ä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶è®©æ„é€ å‡½æ•°ä¸ºå®ƒæ‰“å·¥ã€çš„è¿‡ç¨‹",
          tags: ["new", "Webå¼€å‘", "å‰ç«¯", "é¢è¯•"],
          element: null
        },
        {
          title: "csså¸¸ç”¨çš„å¸ƒå±€æ–¹å¼æœ‰å“ªäº›",
          description: "Flexboxï¼ˆå¼¹æ€§ç›’å­ï¼‰ï¼ŒGridï¼ˆç½‘æ ¼å¸ƒå±€ï¼‰ï¼Œ Positioningï¼ˆå®šä½å¸ƒå±€ï¼‰ï¼ŒFloat + Clearï¼ˆæµ®åŠ¨å¸ƒå±€ï¼‰ï¼Œ Multi-column Layoutï¼ˆå¤šæ å¸ƒå±€ï¼‰ â€”â€” æŠ¥çº¸å¼å¸ƒå±€",
          tags: ["css", "Webå¼€å‘", "å‰ç«¯", "é¢è¯•"],
          element: null
        },
        {
          title: "BFCè§„èŒƒçš„ç†è§£",
          description: " BFCå°±ç›¸å½“äºä¸€ä¸ªç›’å­ï¼Œå†…éƒ¨çš„å…ƒç´ ä¸å¤–ç•Œçš„å…ƒç´ äº’ä¸å¹²æ‰°ã€‚å®ƒä¸ä¼šå½±å“å¤–éƒ¨çš„å¸ƒå±€ï¼Œå¤–éƒ¨çš„å¸ƒå±€ä¹Ÿä¸ä¼šå½±å“åˆ°å®ƒã€‚",
          tags: ["BFC", "Webå¼€å‘", "å‰ç«¯", "é¢è¯•"],
          element: null
        },
        {
          title: '"attribute"å’Œ"property"æœ‰ä»€ä¹ˆä¸åŒ',
          description: " property å±äº DOM Objectï¼Œatrribute å±äº HTMLã€‚",
          tags: ["attribute", "property", "Webå¼€å‘", "å‰ç«¯", "é¢è¯•"],
          element: null
        },
        {
          title: "::beforeå’Œ:afterä¸­å•å†’å·å’ŒåŒå†’å·çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ",
          description: "::è¡¨ç¤ºä¼ªå…ƒç´ ï¼Œ :è¡¨ç¤ºä¼ªç±»ï¼Œæ˜¯ä¸€ç§æ ·å¼",
          tags: ["::before", ":after", "Webå¼€å‘", "å‰ç«¯", "é¢è¯•"],
          element: null
        }
      ];
      
      // åˆå§‹åŒ–ï¼šå°†DOMå…ƒç´ ä¸æ•°æ®å…³è”
      postCards.forEach((card, index) => {
        posts[index].element = card as HTMLElement;
      });
      
      // é«˜äº®æœç´¢å…³é”®è¯
      function highlightText(text: string, searchTerm: string): string {
        if (!searchTerm) return text;
        const regex = new RegExp(`(${searchTerm})`, 'gi');
        return text.replace(regex, '<span class="highlight">$1</span>');
      }
      
      // ç§»é™¤é«˜äº®
      function removeHighlight(element: HTMLElement): void {
        const highlighted = element.querySelectorAll('.highlight');
        highlighted.forEach((span: Element) => {
          span.outerHTML = span.innerHTML;
        });
      }
      
      // æœç´¢å‡½æ•°
      function performSearch(searchTerm: string): void {
        const term = searchTerm.toLowerCase().trim();
        let visibleCount = 0;
        
        posts.forEach(post => {
          const element = post.element;
          if (!element) return;
          
          // ç§»é™¤ä¹‹å‰çš„é«˜äº®
          removeHighlight(element);
          
          if (!term) {
            // å¦‚æœæœç´¢è¯ä¸ºç©ºï¼Œæ˜¾ç¤ºæ‰€æœ‰æ–‡ç« 
            element.style.display = 'block';
            visibleCount++;
            return;
          }
          
          // æ£€æŸ¥æ ‡é¢˜ã€æè¿°å’Œæ ‡ç­¾æ˜¯å¦åŒ¹é…
          const titleMatch = post.title.toLowerCase().includes(term);
          const descMatch = post.description.toLowerCase().includes(term);
          const tagMatch = post.tags.some(tag => tag.toLowerCase().includes(term));
          
          if (titleMatch || descMatch || tagMatch) {
            element.style.display = 'block';
            visibleCount++;
            
            // é«˜äº®åŒ¹é…çš„æ–‡æœ¬
            const titleElement = element.querySelector('.post-title a') as HTMLElement;
            const descElement = element.querySelector('.post-description') as HTMLElement;
            const tagElements = element.querySelectorAll('.tag');
            
            if (titleMatch && titleElement) {
              titleElement.innerHTML = highlightText(post.title, term);
            }
            if (descMatch && descElement) {
              descElement.innerHTML = highlightText(post.description, term);
            }
            if (tagMatch) {
              tagElements.forEach((tagEl: Element, index: number) => {
                if (post.tags[index] && post.tags[index].toLowerCase().includes(term)) {
                  tagEl.innerHTML = highlightText(post.tags[index], term);
                }
              });
            }
          } else {
            element.style.display = 'none';
          }
        });
        
        // æ›´æ–°æœç´¢ç»Ÿè®¡
        if (searchStats) {
          if (term) {
            if (visibleCount === 0) {
              searchStats.textContent = 'æ²¡æœ‰æ‰¾åˆ°ç›¸å…³æ–‡ç« ';
              if (noResults) noResults.style.display = 'block';
            } else {
              searchStats.textContent = `æ‰¾åˆ° ${visibleCount} ç¯‡ç›¸å…³æ–‡ç« `;
              if (noResults) noResults.style.display = 'none';
            }
          } else {
            searchStats.textContent = `å…± ${posts.length} ç¯‡æ–‡ç« `;
            if (noResults) noResults.style.display = 'none';
          }
        }
      }
      
      // é˜²æŠ–å‡½æ•°
      function debounce<T extends (...args: any[]) => void>(func: T, wait: number): (...args: Parameters<T>) => void {
        let timeout: NodeJS.Timeout;
        return function executedFunction(...args: Parameters<T>) {
          const later = () => {
            clearTimeout(timeout);
            func(...args);
          };
          clearTimeout(timeout);
          timeout = setTimeout(later, wait);
        };
      }
      
      // ç»‘å®šæœç´¢äº‹ä»¶
      const debouncedSearch = debounce((e: Event) => {
        const target = e.target as HTMLInputElement;
        if (target) {
          performSearch(target.value);
        }
      }, 300);
      
      if (searchInput) {
        searchInput.addEventListener('input', debouncedSearch);
        
        // æ”¯æŒå›è½¦é”®æœç´¢
        searchInput.addEventListener('keydown', (e: KeyboardEvent) => {
          if (e.key === 'Enter') {
            e.preventDefault();
            performSearch(searchInput.value);
          }
        });
        
        // æ¸…ç©ºæœç´¢æ—¶æ¢å¤æ‰€æœ‰æ–‡ç« 
        searchInput.addEventListener('keyup', (e: KeyboardEvent) => {
          const target = e.target as HTMLInputElement;
          if (e.key === 'Escape' || (!target.value && e.key === 'Backspace')) {
            searchInput.value = '';
            performSearch('');
          }
        });
      }
      
      // åˆå§‹åŒ–æ˜¾ç¤ºç»Ÿè®¡
      if (searchStats) {
        searchStats.textContent = `å…± ${posts.length} ç¯‡æ–‡ç« `;
      }
    </script>
  </body>
</html>
